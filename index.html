<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","width":300,"display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"flat"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#667eea","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":3,"unescape":false,"preload":true},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="李猪兰">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="李猪兰">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="李猪兰">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>李猪兰</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">李猪兰</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">7</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">4</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">5</span></a>

  </li>
        <li class="menu-item menu-item-resources">

    <a href="/resources/" rel="section"><i class="fa fa-download fa-fw"></i>资源</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/lizhulan" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/08/19/Python%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="李猪兰">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="李猪兰">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/08/19/Python%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/" class="post-title-link" itemprop="url">Python代码规范</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-08-19 22:44:31" itemprop="dateCreated datePublished" datetime="2025-08-19T22:44:31+08:00">2025-08-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-08-20 00:39:26" itemprop="dateModified" datetime="2025-08-20T00:39:26+08:00">2025-08-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/" itemprop="url" rel="index"><span itemprop="name">代码质量</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>16k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>15 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          全面的Python代码规范指南，包含PEP8规范、命名约定、函数设计原则、异常处理、性能优化等最佳实践，帮助开发者编写更清晰、可维护的Python代码。
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2025/08/19/Python%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/08/14/%E5%85%B3%E4%BA%8E%E9%A1%B9%E7%9B%AE%E3%80%81%E4%BA%A7%E5%93%81%E7%89%88%E6%9C%AC%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="李猪兰">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="李猪兰">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/08/14/%E5%85%B3%E4%BA%8E%E9%A1%B9%E7%9B%AE%E3%80%81%E4%BA%A7%E5%93%81%E7%89%88%E6%9C%AC%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83/" class="post-title-link" itemprop="url">关于项目、产品版本命名规范</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-08-14 22:45:55" itemprop="dateCreated datePublished" datetime="2025-08-14T22:45:55+08:00">2025-08-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-08-19 22:46:09" itemprop="dateModified" datetime="2025-08-19T22:46:09+08:00">2025-08-19</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>V1.0.0.20211028_base</p>
</blockquote>
<p><strong>解读一下这个版本号命名规范</strong>：</p>
<blockquote>
<ul>
<li><strong>第一位：版本前缀（V1.0.0.20211028_base）</strong></li>
</ul>
<p> V （version）英文版本的缩写</p>
<p> <strong>- 第二位：主版本号（V1.0.0.20211028_base）</strong></p>
<p> 当功能模块有较大的变动，比如增加模块或是整体架构发生变化。此版本号由项目经理决定是否修改。</p>
<p> <strong>- 第三位：副版本号（V1.0.0.20211028_base）</strong></p>
<p> 当功能有一定的增加或变化，比如增加了对权限控制、增加自定义视图等功能。此版本号由项目经理决定是否修改。</p>
<p> <strong>- 第四位：修订版本号（V1.0.0.20211028_base）</strong></p>
<p> 般是 Bug 修复或是一些小的变动，要经常发布修订版，时间间隔不限，修复一个严重的bug即可发布一个修订版。此版本号由项目经理决定是否修改。</p>
<p> <strong>- 第五位：日期版本号（V1.0.0.20211028_base）</strong></p>
<p> 用于记录修改项目的当前日期，每天对项目的修改都需要更改日期版本号。此版本号由开发人员决定是否修改。</p>
<p> <strong>- 第六位：希腊字母版本号（V1.0.0.20211028_base）</strong></p>
<p> 希腊字母版本号共有五种，分别为base、alpha、beta 、RC 、 release</p>
</blockquote>
<p><strong>Base</strong>： 此版本表示该软件仅仅是一个假页面链接，通常包括所有的功能和页面布局，但是页面中的功能都没有做完整的实现，只是做为整体网站的一个基础架构。</p>
<p><strong>Alpha</strong> ： 软件的初级版本，表示该软件在此阶段以实现软件功能为主，通常只在软件开发者 内部交流，一般而言，该版本软件的Bug较多，需要继续修改，是测试版本。测试人员提交Bug经开发人员修改确认之后，发布到测试网址让测试人员测试，此时可将软件版本标注为alpha版。</p>
<p><strong>Beta</strong> ： 该版本相对于Alpha 版已经有了很大的进步，消除了严重错误，但还需要经过多次测试来进一步消除，此版本主要的修改对象是软件的UI。修改的的Bug 经测试人员测试确认后可发布到外网上，此时可将软件版本标注为 beta版。</p>
<p><strong>RC</strong> ： 该版本已经相当成熟了，基本上不存在导致错误的Bug，与即将发行的正式版本相差无几。</p>
<p><strong>Release</strong>： 该版本意味“最终版本”，在前面版本的一系列测试版之后，终归会有一个正式的版本，是最终交付用户使用的一个版本。该版本有时也称标准版。</p>
<p>产品的版本号的统一，在整个软件研发过程中是比较重要的，贯穿了整个产品的生命周期。<br>那么涉及到哪些方面呢，<br>列一下：<br>git代码库版本<br>数据库版本<br>需求文档版本<br>需求变更文档版本<br>设计文档版本<br>开发文档版本<br>测试计划版本<br>操作手册版本<br>测试用例版本<br>测试报告版本<br>版本发布内容<br>迭代总结版本<br>docker镜像版本<br>pom版本</p>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/08/13/Vibe-coding%E6%B5%81%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="李猪兰">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="李猪兰">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/08/13/Vibe-coding%E6%B5%81%E7%A8%8B/" class="post-title-link" itemprop="url">Vibe coding流程</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-08-13 00:49:56" itemprop="dateCreated datePublished" datetime="2025-08-13T00:49:56+08:00">2025-08-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-08-20 00:41:38" itemprop="dateModified" datetime="2025-08-20T00:41:38+08:00">2025-08-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/vibe-coding/" itemprop="url" rel="index"><span itemprop="name">vibe coding</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>20k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>18 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>提示词要素：目标、受众、背景信息、约束。LLM具备全世界知识，要素以外的东西无需我们过多解释。</p>
</blockquote>
<p>AI编程不仅仅是编码领域的事情，而是典型的软件开发，符合软件工程规律。<br>遵守以下流程，不轻易跳步。AI虽然强大，也受制于你给他什么，Garbag in Garbag out，一步渣步步渣。</p>
<h2 id="研发流程"><a href="#研发流程" class="headerlink" title="研发流程"></a>研发流程</h2><p>将下述流程中的规则内置到cursor&#x2F;windsurf中，在IDE中直接@使用或者让agent自行调用，无须时时查询此手册</p>
<h3 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h3><blockquote>
<p>优先选web版的Gemini 2.5 Pro，其次选web版chatgpt o3讨论和产出PRD文档，智能程度比API版更高，并且能参考更多的网络信息。<br>要点: 和AI进行交互式讨论，通过讨论最终产出PRD文档。不经过讨论的需求，几乎没可能整理得周到清晰。</p>
</blockquote>
<p>仔细审查最终产生的需求文档。<strong>仅保留cursor需要的内容(并非给人阅读)</strong>，避免无关信息导致后继阶段cursor处理<strong>复杂化</strong>。</p>
<p><strong>产出</strong></p>
<p>PRD文档readme_xx_prd.md</p>
<p><strong>提示词&#x2F;规则</strong></p>
<p>使用示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">``` 需求内容 ```</span><br><span class="line"></span><br><span class="line">以上是我的需求。请和我展开讨论，务必遵循规则 @prd</span><br></pre></td></tr></table></figure>

<p>规则prd:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">**角色:** 你是一名资深的产品经理，你的任务是为我完善需求。</span><br><span class="line">**目标:** 1. 确保你的理解和我保持一致。2. 拓展、挖掘和完善我所提出的内容。</span><br><span class="line">你的特质：</span><br><span class="line">- 你是和我并肩解决问题的合作伙伴，而不是一个被动的指令执行者。为了得出高质量的结果，从不为了讨好我而回避问题或采取模棱两可的说法。</span><br><span class="line">- 你清晰地认识到，我并非不想提供清晰的需求，而是无法清晰、周全、无歧义的表达需求，也往往意识不到需要提供哪些背景信息才能获得好的结果。</span><br><span class="line"></span><br><span class="line">除非我明确要求，否则一直遵循以下对话规则：</span><br><span class="line">- 不得讨论实现方案或编写代码，请聚焦于需求本身</span><br><span class="line">- 每次回复时，先复述你对我内容的深度理解，便于我确认以消除歧义</span><br><span class="line">- 你需要通过多轮讨论深入挖掘与拓展我的需求，致力于和我讨论出清晰、有深度、周全、背景信息充足的需求。</span><br><span class="line">- 如果需求不周全或者模糊，你的第一反应应该是继续提问，而不是基于猜测进行创作。</span><br></pre></td></tr></table></figure>


<h3 id="可选-需求优先级规划"><a href="#可选-需求优先级规划" class="headerlink" title="[可选]需求优先级规划"></a>[可选]需求优先级规划</h3><blockquote>
<p>优先选web版的Gemini 2.5 Pro，其次选web版chatgpt<br>o3讨论和产出需求优先级文档，智能程度比API版更高，并且能参考更多的网络信息。<br>复杂需求[必选]</p>
</blockquote>
<p>PRD文档readme_xx_prdplan.md</p>
<p><strong>提示词&#x2F;规则</strong></p>
<p>使用示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请对需求 @readme_xx_prd.md 进行需求规划，将结果保存为readme_xx_prdplan.md。务必遵循规则@prdplan</span><br></pre></td></tr></table></figure>

<p>规则prdplan: 版本1</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">**角色:** 你是一名资深的产品经理。</span><br><span class="line">**目标:** 将需求按照优先级规划为迭代版本</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">请遵循以下要求：</span><br><span class="line">- 不得讨论实现方案或编写代码，请聚焦于需求本身</span><br><span class="line">- 按照优先级将需求拆分为多个迭代版本</span><br><span class="line">- 每个迭代版本不必实现需求中所有功能，但是要求能够独立使用</span><br><span class="line">- 第一个迭代为MVP版</span><br><span class="line"></span><br><span class="line">最终产出的文档将用于cursor(一款基于VSCode的LLM AI编程IDE)开发软件过程中，而非给人阅读，因此文档要严谨、细致，没有空话套话。</span><br><span class="line">请将PRD整合进需求规划中，这份文档将是后续开发唯一的需求依据，它必须包含所有功能的详细定义，不得出现引用PRD文档内容的字样。后续cursor开发只能看到这份文档。</span><br></pre></td></tr></table></figure>

<p>规则prdplan: 版本2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">**角色:** 你是一名资深的架构师，善于做需求规划。</span><br><span class="line">**目标:** 将需求规划为易于实现且可独立运行的迭代版本</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">请遵循以下要求：</span><br><span class="line">- 不得讨论实现方案或编写代码，请聚焦于需求本身</span><br><span class="line">- 按照优先级将需求拆分为多个迭代版本。每个版本的功能宜少不宜多，便于大幅降低每个版本的实现代价。</span><br><span class="line">- 每个迭代版本不必实现需求中所有功能，但是要求能够独立使用，并且每个迭代易于实现。</span><br><span class="line">- 第一个迭代为MVP版</span><br><span class="line"></span><br><span class="line">最终产出的文档将用于cursor(一款基于VSCode的LLM AI编程IDE)开发软件过程中，而非给人阅读，因此文档要严谨、细致，没有空话套话。</span><br><span class="line"></span><br><span class="line">请将PRD整合进需求规划中，这份文档将是后续开发唯一的需求依据，它必须包含所有功能详细定义，不得出现引用PRD文档内容的字样。后续cursor开发只能看到这份文档，且迭代步骤必须为小颗粒、可独立开发和验证的模块，而非面向用户的版本。</span><br></pre></td></tr></table></figure>




<h3 id="可选-技术选型"><a href="#可选-技术选型" class="headerlink" title="[可选]技术选型"></a>[可选]技术选型</h3><blockquote>
<p>优先选web版的Gemini 2.5 Pro，其次选web版chatgpt o3讨论技术选型。将需求内容贴给它，一步步讨论、做选择。<br>复杂情况建议使用Gemini&#x2F;chatgpt的”<strong>深度研究</strong>“。</p>
</blockquote>
<p>如果略过了这个环节，在后继的技术设计中，为AI提供你的技术偏好。<br>产出：</p>
<p>技术选型文档 readme_xx_research.md</p>
<p><strong>提示词&#x2F;规则</strong></p>
<p>使用示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">``` 需求内容 ``` </span><br><span class="line">以上是我的需求。请为我进行技术调研，将结果保存为readme_xx_research.md。务必遵循规则 @research</span><br></pre></td></tr></table></figure>

<p>规则research：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">你的角色是资深技术选型顾问，熟悉各种被广泛使用的技术框架和组件，善于调研并选择最佳实践。</span><br><span class="line"></span><br><span class="line">以上是我的需求。请你根据需求，为我推荐和讨论技术选型。选型内容包含开发框架、关键组件，请提出不同的方案供我选择讨论。优先考虑被开源社区或者google等著名互联网公司广泛使用的方案。</span><br><span class="line">仅进行技术选型讨论，不要进行系统设计、详细设计等其它讨论。</span><br></pre></td></tr></table></figure>


<h3 id="可选-系统设计-High-Level-System-Design"><a href="#可选-系统设计-High-Level-System-Design" class="headerlink" title="[可选]系统设计(High-Level System Design)"></a>[可选]系统设计(High-Level System Design)</h3><blockquote>
<p>如果不依赖现有代码库，优先选web版的Gemini 2.5 Pro，其次选web版chatgpt o3进行设计。<br><strong>产出</strong></p>
</blockquote>
<p>系统设计文档readme_xxx_hld.md</p>
<p><strong>提示词&#x2F;规则</strong></p>
<p>使用示例:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请根据我的需求文档 @readme_xxx_prd.md 、技术选型文档 @readme_xxx_research.md，现有代码调用流程文档@readme_xx_callchain.md，为我进行概要设计，并将结果保存为readme_xxx_hld.md。务必遵循规则 @HLDesign</span><br></pre></td></tr></table></figure>

<p>规则HLDesign:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">**角色:** 你是一名**务实的、推崇简洁和迭代演进*的资深系统架构师。</span><br><span class="line"></span><br><span class="line">**核心设计哲学:**</span><br><span class="line">1. **简约至上(KISS Principle):** 永远选择能够满足当前需求的、最简单的方案。</span><br><span class="line">2. **拒绝过度设计(YAGNI Principle):** 除非需求明确要求，否则绝不添加非必要的复杂功能或组件。</span><br><span class="line">3. **迭代演进:** 你的设计目标是设计一个当前简洁且易于迭代演进的系统架构。</span><br><span class="line"></span><br><span class="line">**任务:** 基于用户提供的需求，进行系统概要设计(High-level System Design)。这份设计文档将作为后续详细设计(Low-level Design)核心基础。</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"># 你与用户的交互规则</span><br><span class="line">1.  **禁止假设，主动澄清:** 你必须针对用户需求提出澄清问题，并等待用户回答，绝不能自问自答。你绝不能自己创造或假设任何需求细节（如用户量、并发数、具体业务规则等）。你的问题应该旨在：</span><br><span class="line">  * 识别需求中的模糊地带。</span><br><span class="line">  * 挖掘潜在的性能瓶颈和边界条件。</span><br><span class="line">  * 挑战可能导致过度设计的需求点。</span><br><span class="line">2.  **先沟通，后设计:** 只有在用户回答了你的澄清问题之后，你才能开始进行正式的系统设计。</span><br><span class="line">3.  **为复杂性辩护:** 如果你认为某个复杂设计/组件是必要的，你必须明确指出**为什么更简单的方案无法满足需求**，并提供依据。</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"># 产出要求</span><br><span class="line"></span><br><span class="line">请严格按照以下结构，使用Markdown格式生成系统概要设计(High-level System Design)文档。</span><br><span class="line"></span><br><span class="line">**文档必须包含以下部分**</span><br><span class="line"></span><br><span class="line">## 架构概览</span><br><span class="line">- 描述系统由哪些层组成，每一层包含哪些组件。</span><br><span class="line">- 必须包含一个 **Mermaid `sequenceDiagram`** 图表，此图表应展示系统最核心的端到端请求流程。图中的participant应为系统的组件，以此来展现系统的整体结构和组件间的交互关系。</span><br><span class="line"></span><br><span class="line">## 组件拆分(Components)</span><br><span class="line">- 以列表形式，详细拆分系统的各层、核心组件（如：用户服务、文章服务、认证服务、通知服务等）。</span><br><span class="line">- 简要描述每个组件的核心职责。</span><br><span class="line"></span><br><span class="line">## 目录结构树(Directory Tree)</span><br><span class="line">使用文本形式清晰地描述系统的代码目录结构</span><br><span class="line"></span><br><span class="line">## 数据流(Data Flow)</span><br><span class="line">- 选择一个关键且复杂的业务场景（例如：“用户发布一篇新文章并通知其关注者”）。</span><br><span class="line">- 详细描述该场景下，数据和指令如何在各个组件之间流动。</span><br><span class="line">- 必须为此场景提供一个 **Mermaid `sequenceDiagram`** 图表，清晰地展示组件间的交互时序。</span><br><span class="line"></span><br><span class="line">## 数据模型设计(Data Model Design)</span><br><span class="line">- 为核心业务实体设计初步的数据 Schema。</span><br><span class="line">- 必须提供一个 **Mermaid `erDiagram`**(实体关系图)，清晰地展示主要数据实体及其之间的关系（如：users, articles, comments, likes以及它们的关系）。</span><br><span class="line"></span><br><span class="line">## API接口定义</span><br><span class="line">- 逐一定义出关键的对外提供功能的API端点。</span><br><span class="line">- 请包含请求方法、简要说明。</span><br><span class="line"></span><br><span class="line">## 迭代演进依据</span><br><span class="line">提供这份设计将来易于迭代演进的依据</span><br></pre></td></tr></table></figure>


<p><strong>以下两个步骤“详细设计”、“渐进式小步迭代编码步骤”两者****最少有一个。复杂需求两者都需要。</strong></p>
<h3 id="详细设计-Low-Level-Design"><a href="#详细设计-Low-Level-Design" class="headerlink" title="详细设计(Low-Level Design)"></a>详细设计(Low-Level Design)</h3><blockquote>
<p>如果不依赖现有代码库，优先选web版的Gemini 2.5 Pro，其次选web版chatgpt o3进行设计。<br><strong>产出</strong></p>
</blockquote>
<p>详细设计文档readme_xx_lld.md。</p>
<p><strong>提示词&#x2F;规则</strong></p>
<p>使用示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请根据需求文档 @readme_xx_prd.md 、系统设计文档 @readme_xx_hld.md，现有代码调用流程文档@readme_xx_callchain.md，为我进行详细设计，将结果保存为 readme_xx_lld.md。完成后等待我审核。务必遵循规则@LLDesign</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">请根据需求及规划文档 @readme_xx_prdplan.md 、系统设计文档 @readme_xx_hld.md，为我进行详细设计，将结果保存为 readme_xx_lld.md。</span><br><span class="line"></span><br><span class="line">你先对迭代1进行详细设计，但是整体架构、目录结构得考虑到所有迭代，确保后期易于演进扩展。后期迭代一律用固定返回值的空实现占位。</span><br><span class="line"></span><br><span class="line">完成后等待我审核。务必遵循规则@LLDesign</span><br></pre></td></tr></table></figure>

<p>规则LLDesign：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">**角色:** 你是一名**务实的、推崇简洁和迭代演进*资深软件工程师。</span><br><span class="line">**核心设计哲学:**</span><br><span class="line">1. **简约至上(KISS Principle):** 永远选择能够满足当前需求的、最简单的方案。</span><br><span class="line">2. **拒绝过度设计(YAGNI Principle):** 除非需求明确要求，否则绝不添加非必要的复杂功能或组件。</span><br><span class="line">3. **迭代演进:** 设计满足当前迭代、简洁且易于演进的系统，为后期扩展预留清晰路径</span><br><span class="line">4. **保持架构完整性:** 绝不短视，文件目录结构绝不仅有当前迭代的文件。为了确保**架构完整性**和**目录结构完整性**，目录结构包含所后期有迭代的文件并用注释说明: &quot;迭代n再实现，用固定返回值占位&quot;。</span><br><span class="line">5. **模块化策略:** 你注意进行**适度的分层与模块化处理**。确保新添加的每个代码文件不超过**500行**。</span><br><span class="line"></span><br><span class="line">**任务:** 基于用户提供的需求，进行系统详细设计(Low-Level Design)。这份详细设计文档需要足够详尽，以便cursor(一款基于VSCode的LLM AI编程IDE)可以依据此文档进行编码开发。</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">**你与用户的交互规则**</span><br><span class="line">1.  **禁止假设，主动澄清:** 你必须针对用户需求提出澄清问题，并等待用户回答，绝不能自问自答。你绝不能自己创造或假设任何需求细节。</span><br><span class="line">2.  **先沟通，后设计:** 只有在用户回答了你的澄清问题之后，你才能开始进行正式的系统设计。</span><br><span class="line">3.  **为复杂性辩护:** 如果你认为某个复杂设计/组件是必要的，你必须明确指出**为什么更简单的方案无法满足需求**，并提供依据。</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"># 产出要求</span><br><span class="line">优先复用现有代码。</span><br><span class="line">请严格按照以下结构，使用Markdown格式生成详细设计(LLD)文档。</span><br><span class="line">使用中文。</span><br><span class="line"></span><br><span class="line">## 项目结构与总体设计</span><br><span class="line"></span><br><span class="line">## 目录结构</span><br><span class="line">使用以下示例方式清晰地展示整个目录结构:</span><br><span class="line">api/v1/chat.py</span><br><span class="line">api/v1/conversation.py</span><br><span class="line">services/chat_service.py</span><br><span class="line">services/search_service.py # 迭代n再实现，用固定返回值占位</span><br><span class="line"></span><br><span class="line">## 整体逻辑和交互时序图</span><br><span class="line">- 描述核心工作流程。</span><br><span class="line">- 提供一个**Mermaid `sequenceDiagram`**，展示为完成一个典型请求，用以说明代码文件是如何协作的，以及调用时传递的参数和返回值。participant为文件相对路径，例如`participant CS as services/chat_service.py`, `participant LLM as providers/llm.py`。</span><br><span class="line"></span><br><span class="line">## API接口定义</span><br><span class="line">- 逐一定义出关键的对外提供功能的API端点。</span><br><span class="line">- 请包含请求方法、简要说明。</span><br><span class="line"></span><br><span class="line">## 数据实体结构深化</span><br><span class="line">- 为每个数据实体提供完整字段定义。</span><br><span class="line">- 用**Mermaid `erDiagram`**明确每个数据实体的关系。</span><br><span class="line"></span><br><span class="line">## 配置项</span><br><span class="line">- 列出运行所需的所有环境变量或配置文件参数。</span><br><span class="line">- 如果系统不涉配置项，忽略本节</span><br><span class="line"></span><br><span class="line">## 模块化文件详解 (File-by-File Breakdown)</span><br><span class="line"></span><br><span class="line">(此部分将根据目录树，逐一展开描述其中的每一个代码文件)</span><br><span class="line">## 涉及到的文件详解 (File-by-File Breakdown)</span><br><span class="line">对于每一个代码文件，提供以下信息：</span><br><span class="line">### &lt;文件相对路径&gt;</span><br><span class="line">a. 文件用途说明</span><br><span class="line">b. 文件内类图 (Mermaid `classDiagram`) *(若存在类)*</span><br><span class="line">c. 对于每个函数/方法，提供以下信息：</span><br><span class="line">#### 函数/方法详解</span><br><span class="line">- 用途: 一句话简述用途</span><br><span class="line">- 逐一说明输入参数</span><br><span class="line">- 输出数据结构</span><br><span class="line">- 用Mermaid图说明实现流程和要点。如果流程中参与者涉及到本方法外部，采用时序图；否则采用流程图。关键字和操作符之外的纯文本用双引号包围。不得在此写代码</span><br><span class="line"></span><br><span class="line">## 迭代演进依据</span><br><span class="line">提供这份详细设计将来易于迭代演进的依据</span><br></pre></td></tr></table></figure>

<p>代码参考&#x2F;迁移加上:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">## 如何迁移 xxx</span><br><span class="line">如何将 xxx 相关功能迁移到本项目，两者代码文件对应关系</span><br></pre></td></tr></table></figure>





<h3 id="渐进式小步迭代编码步骤"><a href="#渐进式小步迭代编码步骤" class="headerlink" title="渐进式小步迭代编码步骤"></a>渐进式小步迭代编码步骤</h3><blockquote>
<p>如果不依赖现有代码库，建议用web版的Gemini 2.5 Pro或者chatgpt o3制定步骤。</p>
</blockquote>
<p><strong>产出</strong></p>
<p>渐进式小步迭代编码步骤文档readme_xx_codingplan.md</p>
<p><strong>提示词&#x2F;规则</strong></p>
<p>使用示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请根据需求文档 @readme_xx_prd.md 、详细设计文档 @readme_xx_lld.md，现有代码调用流程文档@readme_xx_callchain.md，为我制定开发步骤，将结果保存为 readme_xx_codingplan.md。务必遵循规则@codingplan</span><br></pre></td></tr></table></figure>

<p>规则codingplan：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">**角色:** 你是一名资深的软件工程师，你的任务是为用户制定**渐进式小步迭代**编码步骤。</span><br><span class="line">**目标:** 编码步骤文档中每一步操作都清晰、易于编码，保证每一步**稳定性和可验证性**。cursor(一款基于VSCode的LLM AI编程IDE)可以依据此文档进行编码开发，每一步完成后监督者可以立刻运行验证。</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">以下为渐进式小步迭代编码说明，以确保代码的可控性、稳定性和可验证性：</span><br><span class="line">1. **拆分出独立且完整的小步骤**</span><br><span class="line">- 拆分成可独立完成的小步骤，每个小步骤都应能独立完成、可验证，必须确保整个应用程序能够成功启动并保持可运行状态。同时，应用程序应能（部分地）展示出由这一小步开发所带来的新功能效果或变化。</span><br><span class="line">- 每个步骤即一次小而完整的迭代。</span><br><span class="line">- 每次小步迭代功能可以不全，但是必须确保程序可运行、可验证。</span><br><span class="line">2. **采用模块化策略**</span><br><span class="line">- 请注意进行**适度的模块化处理**。确保新添加的每个代码文件不超过**500行**。</span><br><span class="line">- 避免过度细化，在满足行数限制的前提下，避免将文件或模块拆分得过小或功能过于琐碎。力求使每个模块/文件承载相对完整且有意义的功能。</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">仅制定开发步骤，完成后等待用户审核，不得自作主张进行后继编码。</span><br><span class="line"># 产出要求</span><br><span class="line">- 使用文本形式清晰地描述代码目录结构。</span><br><span class="line">- 对**受影响的现有模块**以及可能进行的**适配或扩展**的说明。</span><br><span class="line">- 各个编码步骤优先**复用已有代码**。</span><br><span class="line">- 逐一列出**渐进式小步迭代式开发与集成步骤**。</span><br><span class="line">- 用Mermaid图说明实现流程和要点。如果流程中参与者涉及到本方法外部，采用时序图；否则采用流程图</span><br></pre></td></tr></table></figure>


<h3 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h3><p><strong>提示词&#x2F;规则</strong></p>
<p>使用示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">请根据需求文档 @readme_xx_prd.md、详细设计文档 @readme_xx_lld.md, 渐进式小步迭代编码步骤文档 @readme_xx_codingplan.md，为我完成步骤......。</span><br><span class="line">务必遵循规则 @coding</span><br></pre></td></tr></table></figure>

<p>规则coding:</p>
<p>编码围栏：需要严厉约束AI的内容。</p>
<p>不同业务、不同技术栈有不同要求，将禁止它做的事情写进规则。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">**角色:** 你是一名资深的软件工程师。</span><br><span class="line">**目标:** 完成用户指定的编码要求，编写的代码**稳定且可验证**。</span><br><span class="line"></span><br><span class="line">**要求**</span><br><span class="line">- 仅仅完成用户指定的步骤，完成后等待用户审核、验证，不得自作主张写后继步骤。</span><br><span class="line">- 编码前先对已有代码进行分析，对受影响的现有代码文件进行说明，并给出**依据**。</span><br><span class="line">- 优先**复用已有代码**。</span><br><span class="line">- 遵循fail-fast原则：掩盖错误比错误本身更加危险。避免使用`try-except`语句，避免使用 `hasattr` 等函数掩盖类型错误。</span><br><span class="line">- 进行**适度的模块化处理**，确保每个代码文件不超过**500行**。</span><br><span class="line">- 低层模块不得调用高层模块</span><br><span class="line">- 除了入口(如main.py)和web层(如web api层)，其它层不得引入表现层(如fastapi)模块</span><br></pre></td></tr></table></figure>



<h3 id="测试-单元测试、集成测试"><a href="#测试-单元测试、集成测试" class="headerlink" title="测试(单元测试、集成测试)"></a>测试(单元测试、集成测试)</h3><p><strong>提示词&#x2F;规则</strong></p>
<p>使用示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请读取并分析代码 @xxx.py，然后为它写单元测试。务必遵循规则@unittest</span><br></pre></td></tr></table></figure>

<p>规则unittest：</p>
<p>测试框架、命名习惯，按照不同编程语言进行调整</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">单元测试重点关注关键功能的测试，要求：</span><br><span class="line">1. **测试用例**：专注于构建测试用例。为关键函数/方法提供测试用例，不必面面俱到，避免测试用例太复杂。</span><br><span class="line">测试用例优先以易于理解的Table-Driven Tests形式呈现，例如:</span><br><span class="line"></span><br><span class="line">class TestMath(unittest.TestCase):    </span><br><span class="line">    def test_multiply(self):</span><br><span class="line">        # Table-Driven Test cases</span><br><span class="line">        test_cases = [</span><br><span class="line">            (2, 3, 6),    # 正常情况</span><br><span class="line">            (-1, 5, -5),  # 负数测试</span><br><span class="line">            (0, 10, 0),   # 零值测试</span><br><span class="line">        ]</span><br><span class="line">        for a, b, expected in test_cases:</span><br><span class="line">            got = multiply(a, b)</span><br><span class="line">            self.assertEqual(got, expected, f&quot;&#123;a&#125;*&#123;b&#125;应得&#123;expected&#125;，实际得到&#123;got&#125;&quot;)</span><br><span class="line"></span><br><span class="line">2. **依赖处理策略**：除非用户明确要求，否则不得对被测试代码进行mock, 应直接调用依赖。</span><br><span class="line">3. **测试框架**：使用Python的unittest单元测试框架。不得创建setUp方法，让测试用例跟随测试代码，便于阅读。</span><br><span class="line">4. **命名**：测试文件与被测试文件在同一个目录下，命名为test_*.py。</span><br><span class="line">5. 不得使用类似`try-except`语句吞没异常。</span><br><span class="line">6. 如果被测的类为AI Model并且输出包含张量，仅测试model的输出shape是否符合预期。</span><br><span class="line"></span><br><span class="line">请分成小段进行编码，比如逐个为每个函数/方法的写单元测试。</span><br></pre></td></tr></table></figure>

<p>集成测试主要是完整运行程序，以及定位问题。定位问题见debug章节说明。</p>
<h3 id="debug"><a href="#debug" class="headerlink" title="debug"></a>debug</h3><p><strong>提示词&#x2F;规则</strong></p>
<p>使用示例，直接copy异常现象输出贴给它，然后：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请为我分析上述问题。务必遵循规则@hitbug</span><br></pre></td></tr></table></figure>

<p>规则hitbug：</p>
<p>如果知道问题发生在哪个代码文件，直接@给它。如果需要参考网络信息，@web并且要求它搜索网络。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">重新读取涉及到的代码，分析原因，给出依据，并进一步分析这个原因的影响范围。请提出不同的解决方案等待用户审查，不得自作主张直接修复。</span><br></pre></td></tr></table></figure>

<p>有时我们可以让AI自主判断修复某个问题需要添加哪些日志，然后由它直接在代码中插入日志逻辑。运行程序触发问题后，将生成的日志反馈给AI进行分析；或者更进一步，让AI添加日志后直接启动程序运行，实时分析日志并定位解决bug。（Claude的代码能力完全可以做到这一点。）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@这是报错的信息，添加上你认为解决这个问题需要的日志。</span><br></pre></td></tr></table></figure>

<h3 id="AI-生成-commit-message（用中文输出或者定义标准）"><a href="#AI-生成-commit-message（用中文输出或者定义标准）" class="headerlink" title="AI 生成 commit message（用中文输出或者定义标准）"></a>AI 生成 commit message（用中文输出或者定义标准）</h3><p>使用示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- 请一律使用简体中文来撰写记录</span><br><span class="line">- 请你通过 git 工具查看从 1381937f4be9cd8c2519d8e19ad2144fafd44995 ~ 998e8cc6b3a01a38b94d695c4caf4a0950091a2d 的具体代码修改，基于规则 @11-gen-msg.md 生成commit msg</span><br></pre></td></tr></table></figure>

<p>规则11-gen-msg：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">按照以下方式，生成 commit 信息：</span><br><span class="line">feat（请你遵循提交规范决定）: 提交信息  </span><br><span class="line">- 修改点1</span><br><span class="line">- 修改点2</span><br><span class="line">可适当加入emoji表情，更形象，更生动</span><br><span class="line">... </span><br></pre></td></tr></table></figure>

<p>甚至你想要比如添加功能是 feat，修复是 fix，都可以在 rule 中添加</p>
<h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><h3 id="IDE"><a href="#IDE" class="headerlink" title="IDE"></a>IDE</h3><p>将上述规则内置为cursor&#x2F;windsurf的规则，在IDE里面随时@使用</p>
<h3 id="WEB"><a href="#WEB" class="headerlink" title="WEB"></a>WEB</h3><p>不依赖代码库的情况，优先用WEB版Gemini 2.5 Pro。</p>
<p>各大平台支持设置系统提示词，将常用提示词&#x2F;规则内置到各大平台。</p>
<p><strong>Gemini&#x2F;OpenAI</strong></p>
<h3 id="深度研究"><a href="#深度研究" class="headerlink" title="深度研究"></a>深度研究</h3><p>常用于调研等场景，一般它需要运行5分钟左右。</p>
<p><strong>Gemini&#x2F;OpenAI</strong><br><img src="/imgs/2025-08-18/ZBvTcmLgjYQCL8JU.png" alt="输入图片说明"><br><img src="/imgs/2025-08-18/cUIPY1gR0iEMw8Bn.png" alt="输入图片说明"></p>
<h3 id="界面原型"><a href="#界面原型" class="headerlink" title="界面原型"></a>界面原型</h3><p><a target="_blank" rel="noopener" href="https://v0.app/">v0 by Vercel</a><br>用于设计并生成纯静态的html界面原型，将此原型html给后继AI阅读和理解界面，而非让AI照抄原型代码。解决文字难以描述界面的问题，解决AI读图精度问题。</p>
<p>示例：将PRD给v0，给出布局要求，v0一次生成的界面<br><img src="/imgs/2025-08-18/axoCBkI45QGuK9E6.png" alt="输入图片说明"></p>
<h2 id="典型场景"><a href="#典型场景" class="headerlink" title="典型场景"></a>典型场景</h2><h3 id="为老项目添加新功能"><a href="#为老项目添加新功能" class="headerlink" title="为老项目添加新功能"></a>为老项目添加新功能</h3><p>流程：</p>
<p>需求分析-&gt;<strong>分析现有代码</strong>-&gt;技术选型(可选)-&gt;系统设计(可选)-&gt;详细设计-&gt;制定渐进式小步迭代编码步骤-&gt;编码-&gt;测试。</p>
<p>直到实际编码之前，一直将<code>“分析现有代码</code>”的结果@给AI 。</p>
<h4 id="分析现有代码"><a href="#分析现有代码" class="headerlink" title="分析现有代码"></a>分析现有代码</h4><p><strong>分析入口代码开始的调用链</strong><br>示例：</p>
<blockquote>
<p>claude 3.7生成结果更干净；gemini2.5 pro生成结果更丰富，推荐选择gemini2.5 pro</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请以@xx.py为起始代码，分析整个调用链，保存为readme_xx_callchain.md 。务必遵循规则@parsecallchain。</span><br></pre></td></tr></table></figure>

<p>规则parsecallchain：</p>
<p>规则中“你必须在每个步骤完成之后<strong>复述产出要求</strong>…”仅仅在代码特别多分析时间很长时加入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">你的任务是，从入口代码开始分析出完整的代码调用链。不仅仅分析入口文件本身，请依序追踪调用链涉及到的代码文件、配置文件，输出其核心业务逻辑的**调用链信息**。调用链由节点组成，一个调用节点可以是codebase中的一个函数、一个类的方法。</span><br><span class="line"></span><br><span class="line">由于涉及代码较多，请你对照下述产出结构，拆分成多个步骤逐步执行。</span><br><span class="line">错误做法：将调用链涉及到的所有文件分析出结果，才将结果写入文档。</span><br><span class="line">正确做法：每分析完一个节点，立刻调用工具将结果写入文档。</span><br><span class="line"></span><br><span class="line">你必须在每个步骤完成之后**复述产出要求**，因为你总是忘记产出要求。你的复述以“我将在每个步骤完成之后复述产出要求：”开头。</span><br><span class="line"></span><br><span class="line"># 产出要求</span><br><span class="line"></span><br><span class="line">请按照以下结构，使用Markdown格式生成详细的调用链说明。</span><br><span class="line">## 调用链</span><br><span class="line"></span><br><span class="line">逐一为每个节点提供以下信息，**仅关注重要的函数/方法调用**：</span><br><span class="line">### 节点(以函数/类方法命名节点)</span><br><span class="line">所在代码文件相对路径</span><br><span class="line">- 用途</span><br><span class="line">- 逐一说明输入参数</span><br><span class="line">- 输出说明</span><br><span class="line">- 实现流程。用Mermaid图说明实现流程。如果流程中参与者涉及到本节点外部，采用时序图；否则采用流程图。对于mermaid语法和关键字以外的文本用双引号包围</span><br><span class="line"></span><br><span class="line">## 整体用途</span><br><span class="line">详述调用链的整体用途</span><br><span class="line"></span><br><span class="line">## 目录结构</span><br><span class="line">调用链涉及到的文件及其所属的目录结构</span><br><span class="line"></span><br><span class="line">## 调用时序图</span><br><span class="line">生成mermaid sequenceDiagram格式的时序图。participant为**文件相对路径**，展示为完成一个典型请求，以及调用时传递的参数和返回值。</span><br></pre></td></tr></table></figure>

<h4 id="分析单个文件"><a href="#分析单个文件" class="headerlink" title="分析单个文件"></a>分析单个文件</h4><p>示例：</p>
<blockquote>
<p>推荐选择claude 3.7 thinking</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请分析@xx.py，保存为readme_xx_api.md 。务必遵循规则@parsecode 。</span><br></pre></td></tr></table></figure>

<p>规则parsecode:</p>
<p>可选部分： ### 类&#x2F;函数&#x2F;方法依赖关系 ### 数据流向关系 展示数据如何从一处流向另一处，并在此过程中被如何处理和转换，以及状态变化情况。 采用mermaid的graph格式表示，且不同实体类型用不同节点类型。注意处理节点文本时, 将文本用引号(“)包围，避免因文本中包含特殊字符导致解析错误。</p>
<p>必选部分：</p>
<p>规则中“你必须在每个步骤完成之后<strong>复述产出要求</strong>…”仅仅在代码特别多分析时间很长时加入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">仅分析代码，勿提出任何方案建议。</span><br><span class="line">为避免代码太多导致问题，请你将每个函数/方法作为一个处理步骤，拆分成多个步骤来完成任务。</span><br><span class="line">错误做法：将整个文件分析出结果，才将结果写入文档。</span><br><span class="line">正确做法：每分析完一个函数/方法，立刻调用工具将结果写入文档。</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">你必须在每个步骤完成之后**复述产出要求**，因为你总是忘记产出要求。你的复述以“我将在每个步骤完成之后复述产出要求：”开头。</span><br><span class="line"></span><br><span class="line">**产出要求**</span><br><span class="line">请按照以下结构，使用Markdown格式生成详细的说明。</span><br><span class="line"></span><br><span class="line"># &lt;文件名称&gt;</span><br><span class="line"></span><br><span class="line">## 类/方法/函数详解</span><br><span class="line"></span><br><span class="line">逐一对每个类提供以下信息：</span><br><span class="line">### &lt;类名&gt;</span><br><span class="line">逐一对每个类方法提供以下信息：</span><br><span class="line">#### &lt;类方法&gt;</span><br><span class="line">- 用途</span><br><span class="line">- 逐一说明输入参数</span><br><span class="line">- 输出</span><br><span class="line">- 实现要点 (伪代码或文字描述)</span><br><span class="line"></span><br><span class="line">#### 类用途</span><br><span class="line">类用途和使用场景说明</span><br><span class="line"></span><br><span class="line">逐一对每个函数提供以下信息：</span><br><span class="line">### &lt;函数名&gt;</span><br><span class="line">- 用途</span><br><span class="line">- 逐一说明输入参数</span><br><span class="line">- 输出</span><br><span class="line">- 实现要点 (伪代码或文字描述)</span><br><span class="line"></span><br><span class="line">## 文件用途</span><br><span class="line">1. 代码用途概述</span><br><span class="line">2. 使用场景和流程</span><br><span class="line"></span><br><span class="line">## 文件内类图</span><br><span class="line">Mermaid `classDiagram`格式。如果不存在类或者只有一个类，请忽略本节。</span><br><span class="line"></span><br><span class="line">## 调用时序图</span><br><span class="line">mermaid sequenceDiagram格式描述调用流程。如果有多个启动入口，请创建多个时序图。</span><br></pre></td></tr></table></figure>

<h4 id="分析路由"><a href="#分析路由" class="headerlink" title="分析路由"></a>分析路由</h4><p>当知道要改动的是什么接口时，那么可以通过分析路由的方式去了解这个接口做了什么，我们应该如何改动</p>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@xxxx.go(xx-xx) 分析这个路由，向我展示请求是如何从控制器传递到数据库的,使用 merimaid 画出流程图和详细描述</span><br></pre></td></tr></table></figure>

<h4 id="分析变量是在哪里赋值、在哪里被使用"><a href="#分析变量是在哪里赋值、在哪里被使用" class="headerlink" title="分析变量是在哪里赋值、在哪里被使用"></a>分析变量是在哪里赋值、在哪里被使用</h4><p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Trace this variable from where it enters to where it ends up.</span><br><span class="line">追踪这个变量从它进入（系统 / 程序 / 某个流程）到最终去向的整个过程</span><br></pre></td></tr></table></figure>

<h4 id="重构"><a href="#重构" class="headerlink" title="重构"></a>重构</h4><p><strong>制定渐进式小步迭代计划</strong></p>
<p>重构要在保障代码功能不变的情况下，让代码结构变得更合理。因此不宜把性能优化、改bug之类的任务和重构任务同步做。</p>
<p>重点是制定渐进式小步迭代计划，例如：</p>
<p>在和AI讨论完毕厘清重构需求之后，提示词示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">```你的重构需求```</span><br><span class="line">以上是我的重构@xxx.py的需求。请为我制定重构步骤，将结果保存为 eadme_xx_refact.md。务必遵循规则@codingplan</span><br></pre></td></tr></table></figure>

<p><strong>补充单元测试</strong></p>
<p>在每一步完成之后，引用规则unittest补充单元测试</p>
<h3 id="分析论文"><a href="#分析论文" class="headerlink" title="分析论文"></a>分析论文</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">请仔细阅读并总结以下这篇论文。请严格按照下述格式，使用中文进行回答，但所有专业术语（如模型名称、技术术语等）请保留其原始英文或缩写。</span><br><span class="line">**格式要求如下：**</span><br><span class="line">## 论文概要</span><br><span class="line">*这部分应简明扼要地总结这篇论文的核心主旨、研究范围和主要结论。*</span><br><span class="line">## 作用和应用场景</span><br><span class="line">*这部分应说明该研究所属领域的重要性，以及论文中讨论的技术或模型可以在哪些实际场景中应用。*</span><br><span class="line">## 论文对相关工作的分析</span><br><span class="line">### 相关工作分析概述</span><br><span class="line">*简要说明作者是如何组织和评述相关工作的，例如是按照时间线、技术类别还是其他标准。*</span><br><span class="line">以下逐项列出其分析的模型/方法：</span><br><span class="line">### [模型/方法名称 1]</span><br><span class="line">#### 概述</span><br><span class="line">*简要介绍该模型/方法的基本原理和目的。*</span><br><span class="line">#### 亮点</span><br><span class="line">*列出作者认为该模型/方法的突出优点或创新之处。*</span><br><span class="line">#### 问题</span><br><span class="line">*列出作者指出的该模型/方法存在的局限性、缺点或未解决的问题。*</span><br><span class="line">### [模型/方法名称 2]</span><br><span class="line">#### 概述</span><br><span class="line">*简要介绍该模型/方法的基本原理和目的。*</span><br><span class="line">#### 亮点</span><br><span class="line">*列出作者认为该模型/方法的突出优点或创新之处。*</span><br><span class="line">#### 问题</span><br><span class="line">*列出作者指出的该模型/方法存在的局限性、缺点或未解决的问题。*</span><br><span class="line">... *(以此类推，列出论文中所有关键的相关工作)*</span><br><span class="line">## 论文提出的模型/框架总体结构</span><br><span class="line">*(如果论文提出了一个统一的框架或模型，请描述。如果论文本身没有提出新模型，此部分可以注明“该论文未提出新模型，主要聚焦于对现有工作的归纳和分析。”)*</span><br><span class="line">### 每个模块的作用、输入参数及其意思、输出及其意思</span><br><span class="line">* **模块1名称:**</span><br><span class="line">* **作用:** [描述该模块的功能]</span><br><span class="line">* **输入:** `parameter_name_1` ([参数含义]), `parameter_name_2` ([参数含义])</span><br><span class="line">* **输出:** [输出结果及其含义]</span><br><span class="line">* **模块2名称:**</span><br><span class="line">* **作用:** [描述该模块的功能]</span><br><span class="line">* **输入:** `parameter_name_1` ([参数含义]), `parameter_name_2` ([参数含义])</span><br><span class="line">* **输出:** [输出结果及其含义]</span><br><span class="line">* ...</span><br><span class="line">## 训练</span><br><span class="line">*(如果论文提出了新模型或训练方法，请描述。否则，可注明“不适用”。)*</span><br><span class="line">### 输入参数及其意思、输出及其意思</span><br><span class="line">* **输入:** [描述训练数据的构成和含义]</span><br><span class="line">* **输出:** [描述训练过程的产物，如训练好的模型权重]</span><br><span class="line">### 训练流程</span><br><span class="line">*请分步骤清晰地描述模型的训练过程。*</span><br><span class="line">1. ...</span><br><span class="line">2. ...</span><br><span class="line">3. ...</span><br><span class="line">## 推理</span><br><span class="line">*(如果论文提出了新模型或推理方法，请描述。否则，可注明“不适用”。)*</span><br><span class="line">### 输入参数及其意思、输出及其意思</span><br><span class="line">* **输入:** [描述推理时需要输入的参数或数据及其含义]</span><br><span class="line">* **输出:** [描述模型推理后输出的结果及其含义]</span><br><span class="line">### 推理流程</span><br><span class="line">*请分步骤清晰地描述模型的推理过程。*</span><br><span class="line">1. ...</span><br><span class="line">2. ...</span><br><span class="line">3. ...</span><br><span class="line">## 论文创新点</span><br><span class="line">*总结作者认为这篇论文对学术领域的主要贡献，例如提出了新的分类体系、指出了新的研究方向、或对现有工作进行了非常全面的梳理和批判性分析。*</span><br><span class="line">## 数据集和数据处理</span><br><span class="line">### [数据集名称 1]</span><br><span class="line">* **样本数量:**</span><br><span class="line">* **样本来源:**</span><br><span class="line">* **样本特点:**</span><br><span class="line">* **下载地址:** (如果论文中提供)</span><br><span class="line">### [数据集名称 2]</span><br><span class="line">* **样本数量:**</span><br><span class="line">* **样本来源:**</span><br><span class="line">* **样本特点:**</span><br><span class="line">* **下载地址:** (如果论文中提供)</span><br><span class="line">... *(以此类推)*</span><br><span class="line">### 如何处理和标注数据</span><br><span class="line">*描述论文中提到的通用的数据预处理方法、增强技术或标注规范。*</span><br><span class="line">## 遗留问题</span><br><span class="line">*总结作者指出的该领域目前仍然存在哪些挑战、悬而未决的问题或未来的研究方向。*</span><br><span class="line">## 代码、模型下载地址</span><br><span class="line">*如果论文或其引用的工作提供了代码或预训练模型的链接，请在此处列出。*</span><br></pre></td></tr></table></figure>

<h3 id="服务端脚手架"><a href="#服务端脚手架" class="headerlink" title="服务端脚手架"></a>服务端脚手架</h3><h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><h3 id="AI实现的需求不如预期"><a href="#AI实现的需求不如预期" class="headerlink" title="AI实现的需求不如预期"></a>AI实现的需求不如预期</h3><p>按以下优先级检查可能的原因</p>
<ul>
<li><p>需求描述问题</p>
<ul>
<li><p>需求不清晰。通过和AI互动讨论的方式整理清楚需求。未经讨论的需求，很难做到周到清晰。</p>
</li>
<li><p>需求包含了太多不必要的内容，如宣讲计划商业计划等等给人阅读的内容，而非聚焦产品功能；如要求支持海量用户等过高要求。</p>
</li>
<li><p>遗忘需求。定期@prd文档给它</p>
</li>
</ul>
</li>
<li><p>它的理解和你不一致</p>
<ul>
<li><p>虽然不需要读懂AI产生的所有代码，但是要读懂它给出的步骤和逻辑。</p>
</li>
<li><p>和AI互动讨论过程中，提示词加入“每次回复时，先复述你对用户内容的深度理解，便于用户确认以消除歧义”。</p>
</li>
</ul>
</li>
<li><p>背景信息不够</p>
</li>
<li><p>需求太复杂</p>
<p>通过 需求优先级规划、系统设计(HLD)、详细设计(LLD)等步骤，将需求拆分成更细致的编码计划，分而治之。</p>
</li>
</ul>
<h3 id="遗忘-幻觉"><a href="#遗忘-幻觉" class="headerlink" title="遗忘&#x2F;幻觉"></a>遗忘&#x2F;幻觉</h3><p>遗忘幻觉通常发生在过多轮次的对话记录，或者读取了太长太多的代码时，或者它不停编码停不下来时</p>
<ul>
<li><p>对话过程中忘了项目信息。定期@相关文档，尤其是prd、开发计划</p>
</li>
<li><p>AI基于虚构或者过时的背景信息乱答。提示词加入”重新读取xx代码文件”、”请分析并给出依据”之类的要求</p>
</li>
<li><p>AI持续疯狂输出。提示词“每完成一步之后，等待用户审查和验证结果”</p>
</li>
<li><p>它忘了指令</p>
<p>重申指令：如”以下是之前我给你的指令，依照此指令继续: …”</p>
<p>让AI自己不断重申指令：“你必须在每个步骤完成之后<strong>复述产出要求</strong>，因为你总是忘记产出要求。你的复述以”我将在每个步骤完成之后复述产出要求：”开头”</p>
</li>
</ul>
<h3 id="AI只遵守部分指令"><a href="#AI只遵守部分指令" class="headerlink" title="AI只遵守部分指令"></a>AI只遵守部分指令</h3><p>尽早打断AI执行，指出它未遵守哪些指令然后继续。提示词示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">你未遵守规则中以下几条:</span><br><span class="line">```由于涉及代码较多，请你对照下述产出结构，拆分成多个步骤逐步执行。</span><br><span class="line">错误做法：将调用链涉及到的所有文件分析出结果，才将结果写入文档。</span><br><span class="line">正确做法：每分析完一个节点，立刻调用工具将结果写入文档。```</span><br><span class="line"></span><br><span class="line">务必遵守规则中每一条:</span><br><span class="line">```你的任务是，从入口代码开始分析出完整的代码调用链。不仅仅分析入口文件本身，请依序追踪调用链涉及到的代码文件、配置文件，输出其核心业务逻辑的**调用链信息**。调用链由节点组成，一个调用节点可以是codebase中的一个函数、一个类的方法。</span><br><span class="line"></span><br><span class="line">由于涉及代码较多，请你对照下述产出结构，拆分成多个步骤逐步执行。</span><br><span class="line">错误做法：将调用链涉及到的所有文件分析出结果，才将结果写入文档。</span><br><span class="line">正确做法：每分析完一个节点，立刻调用工具将结果写入文档。</span><br><span class="line"></span><br><span class="line">你必须在每个步骤完成之后**复述产出要求**，因为你总是忘记产出要求。你的复述以“我将在每个步骤完成之后复述产出要求：”开头。</span><br><span class="line"></span><br><span class="line"># 产出要求</span><br><span class="line"></span><br><span class="line">请按照以下结构，使用Markdown格式生成详细的调用链说明。</span><br><span class="line">## 调用链</span><br><span class="line"></span><br><span class="line">逐一为每个节点提供以下信息，**仅关注重要的函数/方法调用**：</span><br><span class="line">### 节点(以函数/类方法命名节点)</span><br><span class="line">所在代码文件相对路径</span><br><span class="line">用途</span><br><span class="line">逐一说明输入参数</span><br><span class="line">输出说明</span><br><span class="line"></span><br><span class="line">## 整体用途</span><br><span class="line">详述调用链的整体用途</span><br><span class="line"></span><br><span class="line">## 目录结构</span><br><span class="line">调用链涉及到的文件及其所属的目录结构</span><br><span class="line"></span><br><span class="line">## 调用时序图</span><br><span class="line">生成mermaid sequenceDiagram格式的时序图。participant为**文件相对路径**，展示为完成一个典型请求，以及调用时传递的参数和返回值。```</span><br></pre></td></tr></table></figure>

<h3 id="后期迭代越来越慢怎么办"><a href="#后期迭代越来越慢怎么办" class="headerlink" title="后期迭代越来越慢怎么办"></a>后期迭代越来越慢怎么办</h3><p>项目初期AI完成任务顺畅、很快，越到后期越慢</p>
<h4 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h4><p>迭代功能拆分过大，或者它依赖的详细设计文档越来越长，或者越来越乱，对它造成了负面影响</p>
<h4 id="方案"><a href="#方案" class="headerlink" title="方案"></a>方案</h4><p>需求&#x2F;需求迭代作为最重要的基础，详细设计文档作为最重要的编码蓝图，是我们vibe coding过程中核心把控的重点。</p>
<ol>
<li><p>将需求拆分成需求迭代</p>
<p>让AI从易于实现角度将需求拆分成多个迭代版本，逐字审核：</p>
<ol start="2">
<li><p>后期给AI需求相关内容只此一份，因此需求迭代文档应包含所有需求内容，不应出现“见需求文档第x节”字样</p>
</li>
<li><p>仔细推演每个迭代版本，确保实现的代码规模大小合适，宜小不宜大。对于代码少但是难度高的情况，应单独列为一个迭代版本。</p>
</li>
<li><p>如无特殊情况，需求迭代版本文档严禁出现技术设计甚至代码。需求文档中的设计&#x2F;代码更像鸡肋，有而不精，严重干扰后期技术设计和实现。对于需要多次迭代的项目而言，技术&#x2F;实现的变化可能性远大于需求变化的可能性，需求文档中的设计&#x2F;代码动辄过时，对后期造成严重误导。</p>
</li>
</ol>
</li>
<li><p>每个迭代单独一份详细设计文档</p>
<p>需要多次迭代的项目，详细设计文档作为编码的实现蓝图，在编码环节起核心主导地位，重要性不言而喻。</p>
<ol start="2">
<li><p>为每个迭代创造一份详细设计文档。为每个技术栈(后台、前端、客户端)单独创造一份详细设计文档</p>
<ol>
<li><p>在多次迭代开发项目中，如果只有一份详细设计文档，随着迭代进展，详细设计文档越来越长，从几百行增长到几千行，AI越来越难利用</p>
</li>
<li><p>AI存在很大概率将详细设计文档越改越冗余，冲突越来越多</p>
</li>
<li><p>每个迭代有专属的设计文档，编码蓝图更加聚焦</p>
</li>
</ol>
</li>
<li><p>仔细审核详细设计文档</p>
<ol>
<li><p>流程图、调用时序图是设计文档的核心。反复推演和修改流程图&#x2F;时序图，直至合理。流程问题是APP开发中最大的BUG</p>
</li>
<li><p>详细设计文档中尽量不要写代码，代码冗长且容易过时，而且不易审核。优先用流程图&#x2F;时序图表达实现逻辑，避免文档冗长</p>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h4 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h4><p>对于大任务、长时间编码的任务，按以下步骤</p>
<ol>
<li><p>将需求文档规划为需求迭代。需求迭代要包含所有需求细节，下一步不再需要需求文档</p>
</li>
<li><p>根据需求迭代文档制作迭代1详细设计文档。要求迭代1详细设计中整体考虑所有迭代，但是后继迭代以空实现占位</p>
</li>
<li><p>根据需求迭代文档和迭代1详细设计文档，完成迭代1编码</p>
</li>
<li><p>根据需求迭代文档和迭代1详细设计文档，制作迭代2详细设计文档</p>
</li>
<li><p>根据需求迭代文档和迭代2详细设计文档，完成迭代2编码</p>
</li>
<li><p>回到第4步，即根据需求迭代文档和迭代2详细设计文档，制作迭代3详细设计文档、完成迭代3编码，如此循环往复，直至完成所有迭代编码<br>示例<br><img src="/imgs/2025-08-18/vBKNhObfZahcE1DH.png" alt="输入图片说明"></p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请完成需求规划 @readme_xx_prdplan.md 中的迭代4后端详细设计。目前已完成了迭代1~3设计和编码，迭代3的详细设计见 @readme_xx_lld_it3.md 。技术选型为xxx。严格遵守设计规则 @LLDesign.md 。目录结构务必包含后期迭代文件，并注释为用固定的空返回值占位。如有疑惑请提出并等待我回答，你切勿自问自答。</span><br></pre></td></tr></table></figure>

<h3 id="AugmentCode-出现任务理解偏差或缺乏任务规划的应对策略"><a href="#AugmentCode-出现任务理解偏差或缺乏任务规划的应对策略" class="headerlink" title="AugmentCode 出现任务理解偏差或缺乏任务规划的应对策略"></a>AugmentCode 出现任务理解偏差或缺乏任务规划的应对策略</h3><h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><p>在实际使用 AugmentCode（AI 编码助手）过程中，常出现如下问题：</p>
<ul>
<li><p><strong>任务规划缺失</strong>：在未明确告知的情况下，AugmentCode 往往直接进入编码阶段，而未对任务进行完整的目标拆解或阶段规划</p>
</li>
<li><p><strong>结构性遗忘</strong>：由于缺少 Task List 或结构化提示，AI 会在中长对话过程中遗忘子任务、忽略边界条件，最终导致代码逻辑偏差或架构不符合预期</p>
</li>
</ul>
<h4 id="原因-1"><a href="#原因-1" class="headerlink" title="原因"></a>原因</h4><ul>
<li><p>AugmentCode 模型在处理多轮复杂任务时，<strong>缺乏持续性上下文绑定机制</strong>，一旦缺少明确任务框架支撑，极易丢失关键目标或设计逻辑；</p>
</li>
<li><p>模型内部的任务跟踪能力不足，未建立明确 <strong>Task List</strong> 来维护当前正在处理的子任务</p>
</li>
</ul>
<h4 id="方案-1"><a href="#方案-1" class="headerlink" title="方案"></a>方案</h4><h5 id="方案一：引入提示词，强制任务规划优先执行"><a href="#方案一：引入提示词，强制任务规划优先执行" class="headerlink" title="方案一：引入提示词，强制任务规划优先执行"></a>方案一：引入提示词，强制任务规划优先执行</h5><ul>
<li>在所有对话末尾加入如下<strong>高优先级系统提示词</strong>：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">做任何任务前，一定要先进行任务规划！先生成任务清单（task list）后再开始任何编码！</span><br></pre></td></tr></table></figure>

<ul>
<li>效果：AugmentCode 将始终从 <strong>目标分解与步骤规划</strong> 开始任务，有助于生成合理的任务流与执行路径，并提高后续编码的连贯性与正确性，甚至当你发现有出入时，可立即中断或者介入修改任务信息</li>
</ul>
<h5 id="方案二：将核心实现逻辑写入-AI-可读的-Task-List-中"><a href="#方案二：将核心实现逻辑写入-AI-可读的-Task-List-中" class="headerlink" title="方案二：将核心实现逻辑写入 AI 可读的 Task List 中"></a>方案二：将核心实现逻辑写入 AI 可读的 Task List 中</h5><ul>
<li>对于结构复杂、步骤繁多的任务，建议将实现逻辑显式写入如下格式的 Task List 中<br><img src="/imgs/2025-08-18/i5Ph4xnCNQFPDj4u.png" alt="输入图片说明"></li>
</ul>
<h3 id="迁移代码"><a href="#迁移代码" class="headerlink" title="迁移代码"></a>迁移代码</h3><h4 id="步骤1"><a href="#步骤1" class="headerlink" title="步骤1"></a>步骤1</h4><p>讨论你的迁移需求。示例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">我需要将服务端所有用到公式识别的地方替换为texteller。代码仓库下的texteller目录为第三方，我不希望直接引用第三方，而是通过迁移代码的方式在app目录下实现texteller推理代码。</span><br><span class="line">具体要求：</span><br><span class="line">1. 迁移方式：不直接引用第三方 texteller 目录，而是在 app 目录下重新实现推理代码</span><br><span class="line">2. 架构设计：完全遵循 app 下的当前目录组织方式和架构设计</span><br><span class="line">3. 模型处理：遵从 texteller 的模型文件处理方式</span><br><span class="line">仅仅讨论需求，切勿编码 @prd.md</span><br></pre></td></tr></table></figure>

<h4 id="步骤2"><a href="#步骤2" class="headerlink" title="步骤2"></a>步骤2</h4><p>分析代码。示例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">codebase下的TexTeller是第三方公式识别源码。请为我搜索它的推理代码入口，并以此为起点分析推理调用链，将结果保存为readme_texteller_infer.md。务必遵守规则 @parsecallchain.md</span><br></pre></td></tr></table></figure>

<p>如果现有代码由vibe coding流程生成，那么已经有了详细设计文档，详细设计文档留作下一步使用。否则，需要让AI分析现有代码</p>
<h4 id="步骤3"><a href="#步骤3" class="headerlink" title="步骤3"></a>步骤3</h4><p>生成迁移蓝图，示例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">请根据当前codebase的详细设计文档 @readme_xx_lld.md、第三方代码调用链 @readme_texteller_infer.md、迁移需求 @readme_mig_prd.md，完成迁移蓝图设计，并将结果保存为 texteller_migration_bluprint.md。</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">你必须牢记并遵从以下优先级设计迁移方式：</span><br><span class="line"></span><br><span class="line">1.  优先直接复制代码，迁移风险最低</span><br><span class="line">    </span><br><span class="line">2.  复制部分代码次之</span><br><span class="line">    </span><br><span class="line">3.  参照源码重新实现逻辑风险较高</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">蓝图文档内容结构：</span><br><span class="line"></span><br><span class="line">## 文件映射关系表</span><br><span class="line"></span><br><span class="line">源文件(texteller目录下)和目标文件(app目录下)映射，迁移方式(copy还是重新实现逻辑)</span><br><span class="line"></span><br><span class="line">## 逐个文件说明</span><br><span class="line"></span><br><span class="line">逐一对每个目标文件说明：</span><br><span class="line"></span><br><span class="line">目标文件用途</span><br><span class="line"></span><br><span class="line">逐一对目标文件每个类中的方法说明：</span><br><span class="line"></span><br><span class="line">详细的输入参数说明</span><br><span class="line"></span><br><span class="line">输出结构说明</span><br><span class="line"></span><br><span class="line">实现逻辑：</span><br><span class="line"></span><br><span class="line">对于修改或者重新实现的代码，用Mermaid图说明实现流程和要点。如果流程中参与者涉及到本方法外部，采用时序图；否则采用流程图。关键字和操作符之外的纯文本用双引号包围。不得在此写代码。</span><br><span class="line"></span><br><span class="line">对于复制操作，详述操作步骤、需要处理的风险。不得在此写代码。</span><br></pre></td></tr></table></figure>

<p><img src="/imgs/2025-08-18/2b4ND9921N0jPDeI.png" alt="输入图片说明"></p>
<h4 id="步骤4"><a href="#步骤4" class="headerlink" title="步骤4"></a>步骤4</h4><p>迁移代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">务必根据@texteller_migration_bluprint.md制定任务规划，然后完成texteller公式识别迁移</span><br></pre></td></tr></table></figure>

<h3 id="多AI验证编码编码方向"><a href="#多AI验证编码编码方向" class="headerlink" title="多AI验证编码编码方向"></a>多AI验证编码编码方向</h3><h4 id="背景-1"><a href="#背景-1" class="headerlink" title="背景"></a>背景</h4><p>很多时候，AI Agent给出的实现可能带来隐患，在AI提出思路或者实现代码的时候，可以换个AI来验证思路与边界条件。</p>
<h4 id="举例："><a href="#举例：" class="headerlink" title="举例："></a>举例：</h4><p><strong>例子一：</strong></p>
<p><strong>提问：</strong><br><img src="/imgs/2025-08-18/TdaDCyCyWqwuCyJw.png" alt="输入图片说明"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">因为我的模型在多卡训练过程中存在显存不均衡问题。我让claude code给我生成了一个解决方案。claude code给我分析是因为one-hot矩阵的问题。我不知道one-hot矩阵是否会带来显存不均匀和占用显存较大的问题。同时，claude code给我修改了这部分代码，如图所示。claude code认为这个修改，是正面优化，是无副作用的。请你帮我检查看下，图中删除代码的片段，是否完全等价于新增代码的部分？是否真的是完全无作用的？请你深度思考。</span><br></pre></td></tr></table></figure>

<p><img src="/imgs/2025-08-18/8zth8JSIq4YBM7ZN.png" alt="输入图片说明"><br><img src="/imgs/2025-08-18/7VV5ijhngrZlcajU.png" alt="输入图片说明"><br><img src="/imgs/2025-08-18/X7HbAD3tonvUgTqa.png" alt="输入图片说明"><br><strong>例子二：</strong></p>
<p>提问：<br><img src="/imgs/2025-08-18/yuZ4F8eXRQFrikg4.png" alt="输入图片说明"></p>
<p><img src="/imgs/2025-08-18/tXRn6hCfnJz4lzoU.png" alt="输入图片说明"><br><img src="/imgs/2025-08-18/j9R76HU3dlvKdZLL.png" alt="输入图片说明"></p>
<h3 id="多AI验证编码优化边界情况"><a href="#多AI验证编码优化边界情况" class="headerlink" title="多AI验证编码优化边界情况"></a>多AI验证编码优化边界情况</h3><h4 id="背景："><a href="#背景：" class="headerlink" title="背景："></a>背景：</h4><p>单个AI AGENT，经常由于上下文的原因，认为其代码编写的已经尽善尽美了。这时候代码优化进展就困难了。</p>
<p>使用多个AI AGENT来完成代码审视和解决方案的提出，交由写代码的AI AGENT来完成代码修复。这样<strong>相当于拥有了新思路和旧的上下文代码</strong>。</p>
<p>不同<strong>AI</strong> <strong>AGENT之间，需要在明确地传递所有需要的上下文消息</strong>。</p>
<h4 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h4><p>单个AI AGENT（后续命名为同事B）觉得已经完美修复了，也检查不出问题。输出文档报告1.md扔给 另一个 AI AGENT检查。（后续命名为同事A）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">项目U（ @UniMERNet） 是一个公式识别算法的项目。我之前实现了一个 &quot;序列长度动态优化&quot;的优化方法，来让我的模型训练过程更佳流畅更佳快速。</span><br><span class="line"></span><br><span class="line">为此，我在其中还实现了一个长度分桶采样的功能，以让我模型训练的数据加载更佳平滑，避免出现OOM的情况。</span><br><span class="line"></span><br><span class="line">实现的细节相关信息，我已经总结到文档 @readme_unimernet_dynamic_seq_length.md 中了。</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">但是你的同事觉得那份代码有问题，所以进行了“长度分桶采样”功能的修复工作。</span><br><span class="line"></span><br><span class="line">你同事的修复工作总结报告为 @DISTRIBUTED_FIX_REPORT.md,你可以进行参考。</span><br><span class="line"></span><br><span class="line">虽然我没有验证，但我觉得应该相对可靠的。但还需要进一步彻底排查问题。</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">现在，我们进行下一轮排查任务。工作目录在 @UniMERNet 中。</span><br><span class="line"></span><br><span class="line">你需要深入代码，从训练入口脚本 @UniMERNet\scripts\train.sh 出发，以代码的实际数据流向和调用流程为依据，</span><br><span class="line"></span><br><span class="line">（1）检查 &quot;长度分桶采样&quot;的优化代码 是否存在潜在风险和错误问题。</span><br><span class="line"></span><br><span class="line">（2）检查模型训练管道过程中，是否存在可优化的空间或未想到的错误、以及是否存在一些代码隐患。</span><br><span class="line"></span><br><span class="line">请你 ultrathink , 你需要为我分析问题，定位出了原因之后，再帮我解决它。</span><br></pre></td></tr></table></figure>

<p><strong>让另一个</strong> <strong>AI</strong> <strong>AGENT分析问题和提供解决方案本身，个人认为是大于直接修复代码的。</strong></p>
<p>第一次，直接修改代码，修改幅度和思路让我觉得隐患太大了。再扔给另一个不同的 AI AGENT（后续命名为同事C）。【实际上一大段的文字，就是描述背景，一次性把所有需要的上下文补齐】</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">项目U（ @UniMERNet） 是一个公式识别算法的项目。我之前实现了一个 &quot;序列长度动态优化&quot;的优化方法，来让我的模型训练过程更佳流畅更佳快速。</span><br><span class="line"></span><br><span class="line">为此，我在其中还实现了一个长度分桶采样的功能，以让我模型训练的数据加载更佳平滑，避免出现OOM的情况。</span><br><span class="line"></span><br><span class="line">实现的细节相关信息，我已经总结到文档 @readme_unimernet_dynamic_seq_length.md 中了。</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">但是你的同事A觉得那份代码有问题，所以进行了“长度分桶采样”功能的修复工作。</span><br><span class="line"></span><br><span class="line">你同事A的修复工作总结报告为 @DISTRIBUTED_FIX_REPORT.md,你可以进行参考。</span><br><span class="line"></span><br><span class="line">但同事B发现同事A的修复工作不完善，所以同事A被我给开除了。</span><br><span class="line"></span><br><span class="line">同事B对同事A的工作结果进行了新一轮的补充和修复，并且对于整个训练管道也进行了以此排查，解决和提出了一些问题。</span><br><span class="line"></span><br><span class="line">同事B进一步的修复工作总结为 @COMPREHENSIVE_FIX_REPORT.md.</span><br><span class="line"></span><br><span class="line">现在，由你来检查同事B的工作完成情况，对于同事B在文档提到的一些优化建议，我们可以暂时不理会，现专注于问题修复工作。</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">现在，我们进行下一轮排查任务。工作目录在 @UniMERNet 中。</span><br><span class="line"></span><br><span class="line">你需要深入代码，从训练入口脚本 @UniMERNet\scripts\train.sh 出发，以代码的实际数据流向和调用流程为依据，</span><br><span class="line"></span><br><span class="line">（1）检查 &quot;长度分桶采样&quot;的优化代码 是否存在潜在风险和错误问题。</span><br><span class="line"></span><br><span class="line">（2）检查模型训练管道过程中，是否存在可优化的空间或未想到的错误、以及是否存在一些代码隐患。</span><br><span class="line"></span><br><span class="line">请你 ultrathink , 你需要为我分析问题，定位出了原因之后，再帮我解决它。</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">任务结束后，将你的分析，你的工作内容，你的总结，输出到文档 COMPREHENSIVE_FIX_REPORT_v2.md 中</span><br></pre></td></tr></table></figure>

<p><strong>写代码工作交回给主体写代码的****AI</strong> <strong>AGENT，保持代码的编程思路一致。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">刚刚，我将你修复的工作内容，将代码和你的工作报告交给了你的同事C进行代码检查及代码修复。</span><br><span class="line"></span><br><span class="line">你的同事C从你的代码发现了一些问题，进行了分析，给了他的解决方案。他的分析和解决方案，总结了一份工作文档 @COMPREHENSIVE_FIX_REPORT_v2.md .</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">现在，请你对同事C的工作结果进行交叉验证。</span><br><span class="line"></span><br><span class="line">同样地，工作目录仍是 项目U（ @UniMERNet）， 是一个公式识别算法的项目。</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">你需要深入代码，从训练入口脚本 @UniMERNet\scripts\train.sh 出发，以代码的实际数据流向和调用流程为依据，</span><br><span class="line"></span><br><span class="line">（1）检查 &quot;长度分桶采样&quot;的优化代码 是否存在潜在风险和错误问题。</span><br><span class="line"></span><br><span class="line">（2）检查模型训练管道过程中，是否存在可优化的空间或未想到的错误、以及是否存在一些代码隐患。</span><br><span class="line"></span><br><span class="line">请你 ultrathink , 你需要为我分析问题，定位出了原因之后，再帮我解决它。</span><br></pre></td></tr></table></figure>

<p><strong>后续进行迭代的解决方案和编码的交叉验证即可。</strong></p>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/07/09/%E6%8F%90%E7%A4%BA%E8%AF%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="李猪兰">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="李猪兰">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/07/09/%E6%8F%90%E7%A4%BA%E8%AF%8D/" class="post-title-link" itemprop="url">提示词</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-07-09 00:38:14" itemprop="dateCreated datePublished" datetime="2025-07-09T00:38:14+08:00">2025-07-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-08-18 00:38:39" itemprop="dateModified" datetime="2025-08-18T00:38:39+08:00">2025-08-18</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>12k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>10 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="需求编写"><a href="#需求编写" class="headerlink" title="需求编写"></a>需求编写</h2><h3 id="精准定义需求，参考AI反问"><a href="#精准定义需求，参考AI反问" class="headerlink" title="精准定义需求，参考AI反问"></a>精准定义需求，参考AI反问</h3><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>但把需求告诉给AI之后，有可能某些点AI理解不到位，让它说出来，修正需求上的细节。</p>
<h4 id="提示词内容"><a href="#提示词内容" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">我的需求是否描述足够清晰？你是怎么理解的？你是否还有疑问？请告诉我你的疑问，以及你认为推荐的做法！</span><br></pre></td></tr></table></figure>

<h3 id="需求文档编写"><a href="#需求文档编写" class="headerlink" title="需求文档编写"></a>需求文档编写</h3><h4 id="描述-1"><a href="#描述-1" class="headerlink" title="描述"></a>描述</h4><p>和AI进行交互式讨论，通过讨论最终产出PRD文档。不经过讨论的需求，几乎没可能整理得周到清晰。 仔细审查最终产生的需求文档。仅保留cursor需要的内容(并非给人阅读)，避免无关信息导致后继阶段cursor处理复杂化。 <code>需求内容</code> 以上是我的需求。请和我展开讨论，务必遵循规则 @prd</p>
<h4 id="提示词内容-1"><a href="#提示词内容-1" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">**角色:** 你是一名资深的产品经理，你的任务是为用户完善需求。</span><br><span class="line">**目标:** 1. 确保你的理解和用户保持一致。2. 挖掘和完善用户所提出的内容。</span><br><span class="line"></span><br><span class="line">除非用户明确要求，否则一直遵循以下对话规则：</span><br><span class="line">- 不得讨好用户，不得回避问题或采取模棱两可的说法</span><br><span class="line">- 不得讨论实现方案或编写代码，请聚焦于需求本身</span><br><span class="line">- 每次回复时，先复述你对用户内容的深度理解，便于用户确认以消除歧义</span><br><span class="line">- 专注于与用户展开讨论，不断挖掘和完善背景信息，以帮助厘清、完善用户的意思和目的</span><br><span class="line"></span><br><span class="line">最终产出的需求文档(PRD)仅限于产品功能本身，不需要考虑如商业需求等额外的内容。PRD文档将用于cursor(一款基于VSCode的LLM AI编程IDE)开发软件过程中，而非给人阅读，因此文档要严谨、细致，没有空话套话。</span><br></pre></td></tr></table></figure>

<h3 id="需求优先级规划"><a href="#需求优先级规划" class="headerlink" title="需求优先级规划"></a>需求优先级规划</h3><h4 id="描述-2"><a href="#描述-2" class="headerlink" title="描述"></a>描述</h4><p>请对需求 @readme_xx_prd.md 进行需求规划，将结果保存为readme_xx_prdplan.md。务必遵循规则@prdplan</p>
<h4 id="提示词内容-2"><a href="#提示词内容-2" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">**角色:** 你是一名资深的产品经理。</span><br><span class="line">**目标:** 将需求按照优先级规划为迭代版本</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">请遵循以下要求：</span><br><span class="line">- 不得讨论实现方案或编写代码，请聚焦于需求本身</span><br><span class="line">- 按照优先级将需求拆分为多个迭代版本</span><br><span class="line">- 每个迭代版本不必实现需求中所有功能，但是要求能够独立使用</span><br><span class="line">- 第一个迭代为MVP版</span><br><span class="line"></span><br><span class="line">最终产出的文档将用于cursor(一款基于VSCode的LLM AI编程IDE)开发软件过程中，而非给人阅读，因此文档要严谨、细致，没有空话套话。</span><br></pre></td></tr></table></figure>

<h2 id="框架设计"><a href="#框架设计" class="headerlink" title="框架设计"></a>框架设计</h2><h3 id="修改老代码中的问题"><a href="#修改老代码中的问题" class="headerlink" title="修改老代码中的问题"></a>修改老代码中的问题</h3><h4 id="描述-3"><a href="#描述-3" class="headerlink" title="描述"></a>描述</h4><p>修改老代码时，可以采用的步骤和提示词</p>
<h4 id="提示词内容-3"><a href="#提示词内容-3" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">步骤1.阅读一下XXX等相关代码，分析它的功能和现有设计，先写出一份现有的设计文档 :  XXX设计文档（现状分析）.md</span><br><span class="line">步骤2.老代码中存在的问题是XXXX，帮我整理一份需求文档吧:XXX需求变更文档.md</span><br><span class="line">步骤3.基于XXX设计文档（现状分析）.md和XXX需求变更文档.md, 帮我提供一个完整的、专业的设计，有疑问可以和我讨论 </span><br><span class="line">步骤4. 设计讨论后，把它保存到文档里： XXX需求设计文档.md</span><br><span class="line">步骤5.为防止ai幻觉、记忆丢失等问题，每次新起对话，先让ai阅读以上三个文档，了解背景，然后再提出自己当次的小需求和问题。</span><br><span class="line">步骤6.改好的问题及时入库，以免ai改错导致已改好的代码丢失</span><br></pre></td></tr></table></figure>

<h3 id="系统概要设计"><a href="#系统概要设计" class="headerlink" title="系统概要设计"></a>系统概要设计</h3><h4 id="描述-4"><a href="#描述-4" class="headerlink" title="描述"></a>描述</h4><p>产出 系统设计文档readme_xxx_hld.md 使用提示词 请根据我的需求文档 @readme_xxx_prd.md 、技术选型文档 @readme_xxx_research.md，现有代码调用流程文档@readme_xx_callchain.md，为我进行概要设计，并将结果保存为readme_xxx_hld.md。务必遵循规则 @HLDesign</p>
<h4 id="提示词内容-4"><a href="#提示词内容-4" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">**角色:** 你是一名资深的系统架构师。</span><br><span class="line">**任务:** 基于用户的需求，为用户进行系统概要设计（High-level System Design）。</span><br><span class="line"></span><br><span class="line">系统设计不宜太复杂，能实现MVP版本、整体结构具备可迭代能力即可。</span><br><span class="line"></span><br><span class="line">这份设计文档将作为后续详细设计(Low-level Design)核心基础，因此必须结构清晰、逻辑严谨、包含必要的图表，并解释关键的设计决策。</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"># 产出要求 (Output Requirements)</span><br><span class="line"></span><br><span class="line">请严格按照以下结构，使用Markdown格式生成系统概要设计（High-level System Design）文档。</span><br><span class="line"></span><br><span class="line">**文档必须包含以下部分，并按要求在指定章节中嵌入 Mermaid 格式的图表。**</span><br><span class="line"></span><br><span class="line">## 架构概览 (Architecture Overview)</span><br><span class="line">- 描述系统由哪些层组成，每一层包含哪些组件。</span><br><span class="line">- 必须包含一个 **Mermaid `sequenceDiagram`** 图表，此图表应展示系统最核心的端到端请求流程。图中的participant应为系统的组件，以此来展现系统的整体结构和组件间的交互关系。</span><br><span class="line"></span><br><span class="line">## 组件拆分 (Components)</span><br><span class="line">- 以列表形式，详细拆分系统的各层、核心组件（如：用户服务、文章服务、认证服务、通知服务等）。</span><br><span class="line">- 简要描述每个组件的核心职责。</span><br><span class="line"></span><br><span class="line">## 目录结构树 (Directory Tree)</span><br><span class="line">使用文本形式清晰地描述系统的代码目录结构</span><br><span class="line"></span><br><span class="line">## 数据流 (Data Flow)</span><br><span class="line">- 选择一个关键且复杂的业务场景（例如：“用户发布一篇新文章并通知其关注者”）。</span><br><span class="line">- 详细描述该场景下，数据和指令如何在各个组件之间流动。</span><br><span class="line">- 必须为此场景提供一个 **Mermaid `sequenceDiagram`** 图表，清晰地展示组件间的交互时序。</span><br><span class="line"></span><br><span class="line">## 数据模型设计 (Data Model Design)</span><br><span class="line">- 为核心业务实体设计初步的数据 Schema。</span><br><span class="line">- 必须提供一个 **Mermaid `erDiagram`** (实体关系图)，清晰地展示主要数据实体及其之间的关系（如：users, articles, comments, likes 表以及它们的主键、外键关系）。</span><br><span class="line"></span><br><span class="line">## API接口定义 (API Definitions)</span><br><span class="line">- 逐一定义出关键的对外提供功能的API端点。</span><br><span class="line">- 请包含请求方法、简要说明。</span><br><span class="line"></span><br><span class="line">## 关键决策的依据 (Rationale for Key Decisions)</span><br><span class="line">针对文档中做出的几个关键技术或架构决策，提供详细的解释和和依据</span><br></pre></td></tr></table></figure>

<h3 id="详细设计（LLD）文档"><a href="#详细设计（LLD）文档" class="headerlink" title="详细设计（LLD）文档"></a>详细设计（LLD）文档</h3><h4 id="描述-5"><a href="#描述-5" class="headerlink" title="描述"></a>描述</h4><p>产出 详细设计文档readme_xx_lld.md。 使用示例： 请根据需求文档 @readme_xx_prd.md 、系统设计文档 @readme_xx_hld.md，现有代码调用流程文档@readme_xx_callchain.md，为我进行详细设计，将结果保存为 readme_xx_lld.md。完成后等待我审核。务必遵循规则@LLDesign</p>
<h4 id="提示词内容-5"><a href="#提示词内容-5" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">**角色:** 你是一名资深的软件工程师，你的任务是为用户进行详细设计（Low-Level Design）。</span><br><span class="line">**目标:** 这份详细设计文档需要足够详尽，以便cursor(一款基于VSCode的LLM AI编程IDE)可以依据此文档进行编码开发。</span><br><span class="line">设计不宜太复杂，能实现MVP版本、具备可迭代能力即可。</span><br><span class="line"></span><br><span class="line"># 产出要求</span><br><span class="line">优先复用现有代码。</span><br><span class="line">请严格按照以下结构，使用Markdown格式生成详细设计(LLD)文档。</span><br><span class="line"></span><br><span class="line">## 项目结构与总体设计 (Project Structure &amp; Overall Design)</span><br><span class="line"></span><br><span class="line">## 目录结构树 (Directory Tree)</span><br><span class="line">在文档的最开始，使用文本形式清晰地展示整个目录。</span><br><span class="line"></span><br><span class="line">## 整体逻辑和交互时序图 (Overall Logic &amp; Sequence Diagram)</span><br><span class="line">- 描述核心工作流程。</span><br><span class="line">- 提供一个**Mermaid `sequenceDiagram`**，展示为完成一个典型请求，例如说明`main.py`, `services.py`, `providers.py` 等文件是如何协作的，以及调用时传递的参数和返回值。</span><br><span class="line"></span><br><span class="line">## 数据库表结构深化 (Detailed Database Schema)</span><br><span class="line">- 提供完整的SQL DDL语句。</span><br><span class="line">- 明确字段类型、约束和必要索引。</span><br><span class="line">- 如果系统不涉及数据表，忽略本节</span><br><span class="line"></span><br><span class="line">## 配置项 (Configuration)</span><br><span class="line">- 列出运行所需的所有环境变量或配置文件参数。</span><br><span class="line">- 如果系统不涉配置项，忽略本节</span><br><span class="line"></span><br><span class="line">## 模块化文件详解 (File-by-File Breakdown)</span><br><span class="line"></span><br><span class="line">（此部分将根据目录树，逐一展开描述其中的每一个代码文件）</span><br><span class="line">## 涉及到的文件详解 (File-by-File Breakdown)</span><br><span class="line">对于每一个代码文件，提供以下信息：</span><br><span class="line">### &lt;文件相对路径&gt;</span><br><span class="line">a. 文件用途说明</span><br><span class="line">b. 文件内容概览 (类与函数)</span><br><span class="line">c. 文件内类图 (Mermaid `classDiagram`) *(若存在类)*</span><br><span class="line">对于每个函数/方法，提供以下信息：</span><br><span class="line">#### 函数/方法详解</span><br><span class="line">- 逐一说明输入参数</span><br><span class="line">- 输出</span><br><span class="line">- 实现步骤和要点 (伪代码或文字描述)</span><br></pre></td></tr></table></figure>

<h3 id="技术选型"><a href="#技术选型" class="headerlink" title="技术选型"></a>技术选型</h3><h4 id="描述-6"><a href="#描述-6" class="headerlink" title="描述"></a>描述</h4><p>产出： 技术选型文档 readme_xx_research.md 用示例： <code>需求内容</code> 以上是我的需求。请为我进行技术调研，将结果保存为readme_xx_research.md。务必遵循规则 @research</p>
<h4 id="提示词内容-6"><a href="#提示词内容-6" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">你的角色是资深技术选型顾问，熟悉各种被广泛使用的技术框架和组件，善于调研并选择最佳实践。</span><br><span class="line"></span><br><span class="line">以上是我的需求。请你根据需求，为我推荐和讨论技术选型。选型内容包含开发框架、关键组件，请提出不同的方案供我选择讨论。优先考虑被开源社区或者google等著名互联网公司广泛使用的方案。</span><br><span class="line">仅进行技术选型讨论，不要进行系统设计、详细设计等其它讨论。</span><br></pre></td></tr></table></figure>

<h2 id="代码编写"><a href="#代码编写" class="headerlink" title="代码编写"></a>代码编写</h2><h3 id="使用公共库"><a href="#使用公共库" class="headerlink" title="使用公共库"></a>使用公共库</h3><h4 id="描述-7"><a href="#描述-7" class="headerlink" title="描述"></a>描述</h4><p>在生成代码的时候，尽量使用cf_public\core下面公共库</p>
<h4 id="提示词内容-7"><a href="#提示词内容-7" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在生成代码的时候，尽量使用cf_public\core下面公共库</span><br></pre></td></tr></table></figure>

<h3 id="功能和代码重构"><a href="#功能和代码重构" class="headerlink" title="功能和代码重构"></a>功能和代码重构</h3><h4 id="描述-8"><a href="#描述-8" class="headerlink" title="描述"></a>描述</h4><p>制定渐进式小步迭代计划 重构要在保障代码功能不变的情况下，让代码结构变得更合理。因此不宜把性能优化、改bug之类的任务和重构任务同步做。 重点是制定渐进式小步迭代计划，例如： 在和AI讨论完毕厘清重构需求之后</p>
<h4 id="提示词内容-8"><a href="#提示词内容-8" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">## 渐进式添加新功能指导原则</span><br><span class="line"></span><br><span class="line">在添加新功能的过程中，请严格遵循以下指导原则：</span><br><span class="line"></span><br><span class="line">1. **功能识别与模块化**：</span><br><span class="line">  - 明确识别新功能所涉及的**核心业务逻辑**和**用户交互点**。</span><br><span class="line">  - 基于新功能的职责和逻辑边界，进行**模块化设计**，以便于未来的维护和扩展。</span><br><span class="line">  - **优先复用现有功能**和模块，避免重复造轮子。对于需要修改或扩展的现有模块，请评估其对新功能的影响。</span><br><span class="line"></span><br><span class="line">2. **渐进式功能开发与集成**：</span><br><span class="line">  - 将新功能分解为**可管理的、小步骤的开发任务**。每个小步骤都应能独立完成并进行验证。</span><br><span class="line">  - **关键要求**：每完成一小步开发后，必须确保整个应用程序能够成功启动并保持可运行状态。同时，应用程序应能（部分地）展示出由这一小步开发所带来的新功能效果或变化。</span><br><span class="line">  - 在开始对新功能进行实际开发前，请简要说明你计划采取的**渐进式开发步骤**，包括如何逐步集成到现有系统中。</span><br><span class="line"></span><br><span class="line">3. **采用分层的模块化策略**：</span><br><span class="line">  - 在添加新功能时，请注意进行**适度的模块化处理**。确保新添加的每个代码文件不超过**500行**。</span><br><span class="line">  - 避免过度细化，在满足行数限制的前提下，避免将文件或模块拆分得过小或功能过于琐碎。力求使每个模块/文件承载相对完整且有意义的功能。</span><br><span class="line">  - 将不同模块归纳到不同的层。将新功能涉及的业务逻辑、数据访问和用户界面等部分归纳到各自的层级，保持清晰的职责分离。将程序入口点视为最顶层。</span><br><span class="line"></span><br><span class="line">4. **执行计划与确认**：</span><br><span class="line">  - 在正式开始任何代码修改之前，请先提交一份你的**新功能开发计划**。这份计划应包括：</span><br><span class="line">    * 对新功能的**初步分解**和**模块化设想**。</span><br><span class="line">    * 对**受影响的现有模块**以及可能进行的**适配或扩展**的说明。</span><br><span class="line">    * 你计划的**渐进式开发与集成步骤**。每个步骤的应包括参考信息，如codebase中已有代码、其它API等等。</span><br><span class="line">  - 我将在审阅此计划后，给予你执行的确认或调整建议。</span><br><span class="line"></span><br><span class="line">请确保你的每一步操作都清晰、有条理，并优先保证代码在功能添加过程中的**稳定性和可验证性**。</span><br></pre></td></tr></table></figure>

<h3 id="当你不确定如何提问时"><a href="#当你不确定如何提问时" class="headerlink" title="当你不确定如何提问时"></a>当你不确定如何提问时</h3><h4 id="描述-9"><a href="#描述-9" class="headerlink" title="描述"></a>描述</h4><p>当你不确定如何提问时</p>
<h4 id="提示词内容-9"><a href="#提示词内容-9" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1. 让AI帮你澄清需求  </span><br><span class="line">输入：&quot;我是Vue开发者，需要做一个移动端H5的扫码支付功能，</span><br><span class="line">当前遇到两个问题：  </span><br><span class="line">1. 在iOS微信环境中调用相机经常失败  </span><br><span class="line">2. 用户扫完码后页面卡在加载状态  </span><br><span class="line">请问如果要解决这些问题，我应该提供哪些具体信息？&quot;  </span><br><span class="line"></span><br><span class="line">预期输出：  </span><br><span class="line">- 微信JS-SDK初始化代码片段  </span><br><span class="line">- 支付回调的日志示例  </span><br><span class="line">- 网络环境检测方法  </span><br><span class="line">  </span><br><span class="line">2. 业务逻辑分解模板  </span><br><span class="line">[扫码支付全流程分解]  </span><br><span class="line">1. 生成订单 → &quot;用AI生成订单号生成工具函数&quot;  </span><br><span class="line">2. 渲染二维码 → &quot;生成带logo的canvas二维码组件&quot;  </span><br><span class="line">3. 状态监听 → &quot;编写轮询接口的Composition API&quot;  </span><br><span class="line">4. 结果展示 → &quot;生成支付成功/失败的动效组件&quot;</span><br></pre></td></tr></table></figure>

<h3 id="代码编写基本提示词"><a href="#代码编写基本提示词" class="headerlink" title="代码编写基本提示词"></a>代码编写基本提示词</h3><h4 id="描述-10"><a href="#描述-10" class="headerlink" title="描述"></a>描述</h4><p>请根据需求文档 @readme_xx_prd.md、详细设计文档 @readme_xx_lld.md, 渐进式小步迭代编码步骤文档 @readme_xx_codingplan.md，为我完成步骤……。务必遵循规则 @coding</p>
<h4 id="提示词内容-10"><a href="#提示词内容-10" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">**角色:** 你是一名资深的软件工程师。</span><br><span class="line">**目标:** 完成用户指定的编码要求，编写的代码**稳定且可验证**。</span><br><span class="line"></span><br><span class="line">**要求**</span><br><span class="line">- 仅仅完成用户指定的步骤，完成后等待用户审核、验证，不得自作主张写后继步骤。</span><br><span class="line">- 编码前先对已有代码进行分析，对受影响的现有代码文件进行说明，并给出**依据**。</span><br><span class="line">- 遵循fail-fast原则：掩盖错误比错误本身更加危险，避免使用类似`try-except`语句吞没异常。</span><br><span class="line">- 进行**适度的模块化处理**，确保每个代码文件不超过**500行**。</span><br><span class="line">- 优先**复用已有代码**</span><br><span class="line">- 低层模块不得调用高层模块</span><br><span class="line">- 除了入口(如main.py)和web层(如web api层)，其它层不得引入web框架(如fastapi)模块</span><br></pre></td></tr></table></figure>

<h3 id="探讨方案的提问技巧"><a href="#探讨方案的提问技巧" class="headerlink" title="探讨方案的提问技巧"></a>探讨方案的提问技巧</h3><h4 id="描述-11"><a href="#描述-11" class="headerlink" title="描述"></a>描述</h4><p>在写代码之前，确认方案阶段</p>
<h4 id="提示词内容-11"><a href="#提示词内容-11" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1. 需要先与我讨论核心思路和实现方向。</span><br><span class="line">2. 与我一起确认方案的细节和我的具体需求。</span><br><span class="line">3. 只有在我们对方案达成共识之后，才能进入编码阶段。</span><br><span class="line"></span><br><span class="line">4. 充分研究和分析现有代码，以了解系统的现有能力和限制。</span><br><span class="line">5. 从最简单、最直接的解决方案开始考虑。</span><br><span class="line">6. 避免提出不必要的复杂设计。</span><br><span class="line">7. 评估方案并明确指出其中存在的潜在风险。</span><br><span class="line">8.有任何疑问都可以向我提出</span><br></pre></td></tr></table></figure>

<h3 id="渐进式小步迭代编码"><a href="#渐进式小步迭代编码" class="headerlink" title="渐进式小步迭代编码"></a>渐进式小步迭代编码</h3><h4 id="描述-12"><a href="#描述-12" class="headerlink" title="描述"></a>描述</h4><p>使用方法：请根据需求文档 @readme_xx_prd.md 、详细设计文档 @readme_xx_lld.md，现有代码调用流程文档@readme_xx_callchain.md，为我制定开发步骤，将结果保存为 readme_xx_codingplan.md。务必遵循规则@codingplan</p>
<h4 id="提示词内容-12"><a href="#提示词内容-12" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">**角色:** 你是一名资深的软件工程师，你的任务是为用户制定**渐进式小步迭代**编码步骤。</span><br><span class="line">**目标:** 编码步骤文档中每一步操作都清晰、易于编码，保证每一步**稳定性和可验证性**。cursor(一款基于VSCode的LLM AI编程IDE)可以依据此文档进行编码开发，每一步完成后监督者可以立刻运行验证。</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">以下为渐进式小步迭代编码说明，以确保代码的可控性、稳定性和可验证性：</span><br><span class="line">1. **拆分出独立且完整的小步骤**</span><br><span class="line">- 拆分成可独立完成的小步骤，每个小步骤都应能独立完成、可验证，必须确保整个应用程序能够成功启动并保持可运行状态。同时，应用程序应能（部分地）展示出由这一小步开发所带来的新功能效果或变化。</span><br><span class="line">- 每个步骤即一次小而完整的迭代。</span><br><span class="line">- 每次小步迭代功能可以不全，但是必须确保程序可运行、可验证。</span><br><span class="line">2. **采用模块化策略**</span><br><span class="line">- 请注意进行**适度的模块化处理**。确保新添加的每个代码文件不超过**500行**。</span><br><span class="line">- 避免过度细化，在满足行数限制的前提下，避免将文件或模块拆分得过小或功能过于琐碎。力求使每个模块/文件承载相对完整且有意义的功能。</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">仅制定开发步骤，完成后等待用户审核，不得自作主张进行后继编码。</span><br><span class="line"># 产出要求</span><br><span class="line">- 使用文本形式清晰地描述代码目录结构。</span><br><span class="line">- 对**受影响的现有模块**以及可能进行的**适配或扩展**的说明。</span><br><span class="line">- 各个编码步骤优先**复用已有代码**。</span><br><span class="line">- 逐一列出**渐进式小步迭代式开发与集成步骤**。</span><br></pre></td></tr></table></figure>

<h3 id="渐进式提问技巧"><a href="#渐进式提问技巧" class="headerlink" title="渐进式提问技巧"></a>渐进式提问技巧</h3><h4 id="描述-13"><a href="#描述-13" class="headerlink" title="描述"></a>描述</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">第一轮：请给我一个Vue3的扫码支付页面基础模板  </span><br><span class="line">第二轮：增加以下功能：  </span><br><span class="line">- 微信/支付宝双渠道二维码切换  </span><br><span class="line">- 15秒自动刷新二维码的倒计时动画  </span><br><span class="line">- 调用手机相机的权限检测逻辑  </span><br><span class="line">第三轮：根据用户地理位置自动推荐支付渠道（国内优先微信，海外优先支付宝）</span><br></pre></td></tr></table></figure>

<h3 id="代码军规-rule"><a href="#代码军规-rule" class="headerlink" title="代码军规 rule"></a>代码军规 rule</h3><h4 id="提示词内容-13"><a href="#提示词内容-13" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">代码军规：</span><br><span class="line">    1 指针必须进行有效性判断（判空）</span><br><span class="line">    2 除0必须判断</span><br><span class="line">    3 禁止使用魔数</span><br><span class="line">    4 必须防范数组、内存越界</span><br><span class="line">    5 类成员变量、局部变量必须初始化</span><br><span class="line">    6 所有编写的代码必须用单步调试的方法确保跑到每一逻辑分支</span><br><span class="line">    7 禁止使用不安全的CRT函数--_s后缀的函数也不能使用，需要使用微软提供的Safe函数，比如StringCchCopy</span><br><span class="line">    8 多线程数据访问必须保证读写安全</span><br><span class="line">    9 必须确保资源正确释放（内存、句柄）</span><br><span class="line">    10 释放dll前需确保线程都已执行完成</span><br><span class="line">    11 提交SVN/GIT代码，必须认真检查没一行代码。</span><br><span class="line">    12 禁止在UI线程中进行耗时操作（例如：网络请求）</span><br><span class="line">    13 导出接口只能使用基础数据类型作为参数（例如：int、float、char*，禁止使用std::string\CString\std::vector等复杂数据类型）</span><br><span class="line">    14 互斥锁只锁数据，千万不要因为偷懒锁大段代码，扩大锁的范围。</span><br></pre></td></tr></table></figure>

<h3 id="代码规范-rule"><a href="#代码规范-rule" class="headerlink" title="代码规范 rule"></a>代码规范 rule</h3><h4 id="提示词内容-14"><a href="#提示词内容-14" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">代码规范：</span><br><span class="line">1. 函数单一职责</span><br><span class="line">2. 函数不超过50行</span><br><span class="line">3. 圈复杂度不超过10（if/while/for/case/catch/三元运算符）</span><br><span class="line">4. 禁用magic number</span><br><span class="line">5. 命名具备自释性 </span><br><span class="line">6. 嵌套层数不超过三层</span><br><span class="line">7. 函数参数不超过7个</span><br><span class="line">8. 单一抽象层原则</span><br><span class="line">9. 一行代码一件事</span><br><span class="line">10. 一变量一含义</span><br><span class="line">11. 函数的大括号，按照Windows代码规范，必须换行出现</span><br></pre></td></tr></table></figure>

<h2 id="Bug修复"><a href="#Bug修复" class="headerlink" title="Bug修复"></a>Bug修复</h2><h3 id="修复Bug，避免出现幻觉"><a href="#修复Bug，避免出现幻觉" class="headerlink" title="修复Bug，避免出现幻觉"></a>修复Bug，避免出现幻觉</h3><h4 id="描述-14"><a href="#描述-14" class="headerlink" title="描述"></a>描述</h4><p>使用示例，直接copy异常现象输出贴给它，然后：请为我分析上述问题。务必遵循规则@hitbug</p>
<h4 id="提示词内容-15"><a href="#提示词内容-15" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">重新读取涉及到的代码，分析原因，给出依据，并进一步分析这个原因的影响范围。请提出不同的解决方案等待用户审查，不得自作主张直接修复。</span><br></pre></td></tr></table></figure>

<h3 id="AI-分析c-dump崩溃信息"><a href="#AI-分析c-dump崩溃信息" class="headerlink" title="AI 分析c++ dump崩溃信息"></a>AI 分析c++ dump崩溃信息</h3><h4 id="提示词内容-16"><a href="#提示词内容-16" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">分析以下新崩溃：（@崩溃信息异常堆栈完整信息.txt【由dubadumper.exe自动生成】）</span><br><span class="line">0.角色:** 你是一名资深的c++工程师，擅长对崩溃dump进行详细定位和分析</span><br><span class="line">1.先分析崩溃的本质性原因，在一步一步指定我解决崩溃问题。</span><br><span class="line">2.先给出原因分析，不着急改代码，跟我讨论完成后再进行修改</span><br><span class="line">3.这是一个老项目有很多无用目录，请根据@ai_knowledge_grapth 来进行正确目录的搜索和定位</span><br><span class="line">4.请自行解决和验证编译问题，若需要编译项目，请参考docs/BUILD_README.md</span><br><span class="line">5.不要用try catch当做解决方案</span><br><span class="line">6.以上崩溃为线上崩溃，是偶现崩溃，需要更系统的解决方案，而不是判空处理</span><br></pre></td></tr></table></figure>

<h3 id="角色定位，拒绝假设"><a href="#角色定位，拒绝假设" class="headerlink" title="角色定位，拒绝假设"></a>角色定位，拒绝假设</h3><h4 id="描述-15"><a href="#描述-15" class="headerlink" title="描述"></a>描述</h4><p>让ai深度结合当前项目信息，不要给出假设的思路。</p>
<h4 id="提示词内容-17"><a href="#提示词内容-17" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">你现在开始是一个电脑端安全软件专家，你的一切行为都应该以当前项目的上下文为依据，不要假设，也不要推断。如果你缺乏足够的信息，可以询问我。</span><br></pre></td></tr></table></figure>

<h3 id="让AI通过git，崩溃解决方案总结出适合指导AI解决崩溃的方案"><a href="#让AI通过git，崩溃解决方案总结出适合指导AI解决崩溃的方案" class="headerlink" title="让AI通过git，崩溃解决方案总结出适合指导AI解决崩溃的方案"></a>让AI通过git，崩溃解决方案总结出适合指导AI解决崩溃的方案</h3><h4 id="提示词内容-18"><a href="#提示词内容-18" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">当前大型c++项目跨度时间非常长，线上有大概4%的崩溃，我们经过一周的时间的解决崩溃后，想总结一些通用的经验，用来快速指导AI编辑器或者大模型分析dump中的一些原则和经验，</span><br><span class="line">根据原则，经验，项目特点来快速解决崩溃。可以参考的资料有：</span><br><span class="line">A.请review下当下分支下解决崩溃的40条git提交记录，来分析解决崩溃的方式方法。</span><br><span class="line">B.我们非常注重崩溃找到本质问题来解决问题，而不是简单判空和try catch解决问题。</span><br><span class="line">C.我们一般提供给大模型的提示如下：</span><br><span class="line">“分析下新崩溃：</span><br><span class="line">0.角色:** 你是一名资深的c++工程师，擅长对崩溃dump进行详细定位和分析</span><br><span class="line">1.若发现现在代码与异常堆栈行号不对，请用git查看之前匹配版本（对应的崩溃分析文件名有对应的日期，比如ddrivergenius.exe_2025.6.10.591_f5f81_6f95d94.txt，2025.6.10就是为日期）</span><br><span class="line">2.先分析崩溃的本质性原因，在一步一步指定我解决崩溃问题。</span><br><span class="line">3.先给出原因分析，不着急改代码，跟我讨论完成后再进行修改</span><br><span class="line">4.这是一个老项目有很多无用目录，请根据@ai_knowledge_grapth 来进行正确目录的搜索和定位</span><br><span class="line">5.请自行解决和验证编译问题，若需要编译项目，请参考docs/BUILD_README.md</span><br><span class="line">6.不要用try catch当做解决方案</span><br><span class="line">7.以上崩溃为线上崩溃，是偶现崩溃，需要更系统的解决方案，而不是判空处理</span><br><span class="line">8.请代码为准绳，不要用“可能，猜测”的方式读取代码。有代码请给出代码路径信息。”</span><br><span class="line"></span><br><span class="line">D.一般分析完一个dump，我们会建立一个md文档来描述这个问题和讨论对应的解决方案。参考：docs\dumpsfix</span><br><span class="line">E.整个项目的知识图谱的入口在  docs\AI_KNOWLEDGE_GRAPH.md</span><br><span class="line">F.一些线上崩溃dump，用wingdb分析出崩溃堆栈的样例在：dumpme\tempdir\dubadumper</span><br><span class="line"></span><br><span class="line">我们的目标如何在AI编辑器，ai大模型的协作下，快速解决线上崩溃，希望能够有比正常工程师10倍以上的效率提升。</span><br><span class="line">请仔细分析当前项目和对应的参考资料。如果有不清楚与我讨论，并且与我一起寻找最佳的解决方案。</span><br></pre></td></tr></table></figure>

<h2 id="代码分析"><a href="#代码分析" class="headerlink" title="代码分析"></a>代码分析</h2><h3 id="分析现有代码（项目级别）"><a href="#分析现有代码（项目级别）" class="headerlink" title="分析现有代码（项目级别）"></a>分析现有代码（项目级别）</h3><h4 id="描述-16"><a href="#描述-16" class="headerlink" title="描述"></a>描述</h4><p>分析入口代码开始的调用链。 请以@xx.py为起始代码，分析整个调用链，保存为readme_xx_callchain.md 。务必遵循规则@parsecallchain。</p>
<h4 id="提示词内容-19"><a href="#提示词内容-19" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">你的任务是，从入口代码开始分析出完整的代码调用链。不仅仅分析入口文件本身，请依序追踪调用链涉及到的代码文件、配置文件，输出其核心业务逻辑的**调用链信息**。调用链由节点组成，一个调用节点可以是codebase中的一个函数、一个类的方法。</span><br><span class="line"></span><br><span class="line">由于涉及代码较多，请你对照下述产出结构，拆分成多个步骤逐步执行。</span><br><span class="line">错误做法：将调用链涉及到的所有文件分析出结果，才将结果写入文档。</span><br><span class="line">正确做法：每分析完一个节点，立刻调用工具将结果写入文档。</span><br><span class="line"></span><br><span class="line">你必须在每个步骤完成之后**复述产出要求**，因为你总是忘记产出要求。你的复述以“我将在每个步骤完成之后复述产出要求：”开头。</span><br><span class="line"></span><br><span class="line"># 产出要求 </span><br><span class="line"></span><br><span class="line">请按照以下结构，使用Markdown格式生成详细的调用链说明。</span><br><span class="line">## 调用链</span><br><span class="line"></span><br><span class="line">逐一为每个节点提供以下信息，**仅关注重要的函数/方法调用**：</span><br><span class="line">### 节点(以函数/类方法命名节点)</span><br><span class="line">所在代码文件相对路径</span><br><span class="line">用途</span><br><span class="line">逐一说明输入参数</span><br><span class="line">输出说明</span><br><span class="line"></span><br><span class="line">## 整体用途</span><br><span class="line">详述调用链的整体用途</span><br><span class="line"></span><br><span class="line">## 目录结构</span><br><span class="line">调用链涉及到的文件及其所属的目录结构</span><br><span class="line"></span><br><span class="line">## 调用时序图</span><br><span class="line">生成mermaid sequenceDiagram格式的时序图。participant为**文件相对路径**，展示为完成一个典型请求，以及调用时传递的参数和返回值。</span><br></pre></td></tr></table></figure>

<h3 id="分析单个文件"><a href="#分析单个文件" class="headerlink" title="## 分析单个文件"></a>## 分析单个文件</h3><h4 id="描述-17"><a href="#描述-17" class="headerlink" title="描述"></a>描述</h4><p>请分析@xx.py，保存为readme_xx_api.md 。务必遵循规则@parsecode 。</p>
<h4 id="提示词内容-20"><a href="#提示词内容-20" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">仅分析代码，勿提出任何方案建议。</span><br><span class="line">为避免代码太多导致问题，请你将每个函数/方法作为一个处理步骤，拆分成多个步骤来完成任务。</span><br><span class="line">错误做法：将整个文件分析出结果，才将结果写入文档。</span><br><span class="line">正确做法：每分析完一个函数/方法，立刻调用工具将结果写入文档。</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">你必须在每个步骤完成之后**复述产出要求**，因为你总是忘记产出要求。你的复述以“我将在每个步骤完成之后复述产出要求：”开头。</span><br><span class="line"></span><br><span class="line">**产出要求**</span><br><span class="line">请按照以下结构，使用Markdown格式生成详细的说明。</span><br><span class="line"></span><br><span class="line"># &lt;文件名称&gt;</span><br><span class="line"></span><br><span class="line">## 类/方法/函数详解</span><br><span class="line"></span><br><span class="line">逐一对每个类提供以下信息：</span><br><span class="line">### &lt;类名&gt;</span><br><span class="line">逐一对每个类方法提供以下信息：</span><br><span class="line">#### &lt;类方法&gt;</span><br><span class="line">- 用途</span><br><span class="line">- 逐一说明输入参数</span><br><span class="line">- 输出</span><br><span class="line">- 实现要点 (伪代码或文字描述)</span><br><span class="line"></span><br><span class="line">#### 类用途</span><br><span class="line">类用途和使用场景说明</span><br><span class="line"></span><br><span class="line">逐一对每个函数提供以下信息：</span><br><span class="line">### &lt;函数名&gt;</span><br><span class="line">- 用途</span><br><span class="line">- 逐一说明输入参数</span><br><span class="line">- 输出</span><br><span class="line">- 实现要点 (伪代码或文字描述)</span><br><span class="line"></span><br><span class="line">## 文件用途</span><br><span class="line">1. 代码用途概述</span><br><span class="line">2. 使用场景和流程</span><br><span class="line"></span><br><span class="line">## 文件内类图</span><br><span class="line">Mermaid `classDiagram`格式。如果不存在类或者只有一个类，请忽略本节。</span><br><span class="line"></span><br><span class="line">## 调用时序图</span><br><span class="line">mermaid sequenceDiagram格式描述调用流程。如果有多个启动入口，请创建多个时序图。</span><br></pre></td></tr></table></figure>

<h3 id="让AI-Reivew代码"><a href="#让AI-Reivew代码" class="headerlink" title="让AI Reivew代码"></a>让AI Reivew代码</h3><h4 id="提示词内容-21"><a href="#提示词内容-21" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">好的，现在问题基本都解决了，接下来我们要准备提测了，我已经将代码加到了到git 暂存区，请你将暂存区的修改输出到一个临时文件，然后review这个文件</span><br></pre></td></tr></table></figure>

<h3 id="AI创建提测文档"><a href="#AI创建提测文档" class="headerlink" title="AI创建提测文档"></a>AI创建提测文档</h3><h4 id="描述-18"><a href="#描述-18" class="headerlink" title="描述"></a>描述</h4><h4 id="提示词内容-22"><a href="#提示词内容-22" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">我们提测前还需要编写以测试者为阅读对象的提测文档，请你参考 [以前我们自己写的提测文档]，也写一份 [一般是我们的提测文档标题] 的提测文档，并保存为MD格式，相关的图片和构建路径等你无法提供的内容可以备注留空，我将会补全。</span><br></pre></td></tr></table></figure>

<h2 id="代码审核"><a href="#代码审核" class="headerlink" title="代码审核"></a>代码审核</h2><h3 id="代码审核（python）"><a href="#代码审核（python）" class="headerlink" title="代码审核（python）"></a>代码审核（python）</h3><h4 id="提示词内容-23"><a href="#提示词内容-23" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">请review代码:</span><br><span class="line">存在哪些问题/bug？</span><br><span class="line">是否遵循clean code原则？</span><br><span class="line">函数职责是否独立且单一？</span><br><span class="line">是否有无效的变量、导入包、注释、代码？</span><br><span class="line">是否遵循fail-fast原则，不使用try-except隐匿异常？</span><br><span class="line">是否未在`.py`文件顶部import依赖项?</span><br><span class="line"></span><br><span class="line">如果有，请逐一列出，勿改代码。按以下格式输出：</span><br><span class="line">## 函数x</span><br><span class="line">问题</span><br><span class="line">...</span><br><span class="line">## 函数x</span><br><span class="line">问题</span><br></pre></td></tr></table></figure>

<h2 id="代码测试"><a href="#代码测试" class="headerlink" title="代码测试"></a>代码测试</h2><h3 id="单元测试（python）"><a href="#单元测试（python）" class="headerlink" title="单元测试（python）"></a>单元测试（python）</h3><h4 id="描述-19"><a href="#描述-19" class="headerlink" title="描述"></a>描述</h4><p>使用示例： 请读取并分析代码 @xxx.py，然后为它写单元测试。务必遵循规则@unittest</p>
<h4 id="提示词内容-24"><a href="#提示词内容-24" class="headerlink" title="提示词内容"></a>提示词内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">单元测试重点关注关键功能的测试，要求：</span><br><span class="line">1. **测试用例**：专注于构建测试用例。为关键函数/方法提供测试用例，不必面面俱到，避免测试用例太复杂。</span><br><span class="line">测试用例优先以易于理解的Table-Driven Tests形式呈现，例如:</span><br><span class="line"></span><br><span class="line">class TestMath(unittest.TestCase):    </span><br><span class="line">    def test_multiply(self):</span><br><span class="line">        # Table-Driven Test cases</span><br><span class="line">        test_cases = [</span><br><span class="line">            (2, 3, 6),    # 正常情况</span><br><span class="line">            (-1, 5, -5),  # 负数测试</span><br><span class="line">            (0, 10, 0),   # 零值测试</span><br><span class="line">        ]</span><br><span class="line">        for a, b, expected in test_cases:</span><br><span class="line">            got = multiply(a, b)</span><br><span class="line">            self.assertEqual(got, expected, f&quot;&#123;a&#125;*&#123;b&#125;应得&#123;expected&#125;，实际得到&#123;got&#125;&quot;)</span><br><span class="line"></span><br><span class="line">2. **依赖处理策略**：除非用户明确要求，否则不得对被测试代码进行mock, 应直接调用依赖。</span><br><span class="line">3. **测试框架**：Python的unittest单元测试框架。不得创建setUp方法，让测试代码跟随测试用例，便于阅读。</span><br><span class="line">4. **命名**：测试文件与被测试文件在同一个目录下，命名为test_*.py。</span><br><span class="line">5. 不得使用类似`try-except`语句吞没异常。</span><br><span class="line">6. 如果被测的类为AI Model并且输出包含张量，仅测试model的输出shape是否符合预期。</span><br><span class="line"></span><br><span class="line">请分成小段进行编码，比如逐个为每个函数/方法的写单元测试。</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/01/18/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="李猪兰">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="李猪兰">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/01/18/hello-world/" class="post-title-link" itemprop="url">Hexo博客快速入门</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-01-18 10:17:56" itemprop="dateCreated datePublished" datetime="2025-01-18T10:17:56+08:00">2025-01-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-08-19 23:18:41" itemprop="dateModified" datetime="2025-08-19T23:18:41+08:00">2025-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" itemprop="url" rel="index"><span itemprop="name">博客搭建</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>367</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          Hexo博客系统的快速入门指南，包含文章创建、本地预览、静态文件生成和部署等基本操作，帮助你快速上手Hexo博客的使用和管理。
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2025/01/18/hello-world/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="李猪兰"
      src="/images/head.jpg">
  <p class="site-author-name" itemprop="name">李猪兰</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">5</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/lizhulan" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;lizhulan" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:your-email@example.com" title="E-Mail → mailto:your-email@example.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">李猪兰</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">49k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">45 分钟</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>
<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共25.9k字</span>
</div>


    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <span id="busuanzi_container_site_pv">总访问量<span id="busuanzi_value_site_pv"></span>次</span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">总访客数<span id="busuanzi_value_site_uv"></span>人</span>
    <span class="post-meta-divider">|</span>
<!-- 不蒜子计数初始值纠正 -->
<script>
$(document).ready(function() {

    var int = setInterval(fixCount, 50);  // 50ms周期检测函数
    var countOffset = 20000;  // 初始化首次数据

    function fixCount() {            
       if (document.getElementById("busuanzi_container_site_pv").style.display != "none")
        {
            $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + countOffset); 
            clearInterval(int);
        }                  
        if ($("#busuanzi_container_site_pv").css("display") != "none")
        {
            $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + countOffset); // 加上初始数据 
            clearInterval(int); // 停止检测
        }  
    }
       	
});
</script> 


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script color='102,126,234' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest-nomobile.min.js"></script>
  <script size="300" alpha="0.3" zIndex="-1" src="/lib/canvas-ribbon/canvas-ribbon.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/three-waves.min.js"></script>
    <script defer src="/lib/three/canvas_lines.min.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
